<html>
<head>
	<meta name="color-scheme" content="light dark">
</head>
<body>
<div class="line-gutter-backdrop">
</div>
<form autocomplete="off">
	<label class="line-wrap-control">Line wrap
		<input type="checkbox" aria-label="Line wrap">
	</label>
</form>
<table>
<tbody>
	<tr>
		<td class="line-number" value="1"></td>
			<td class="line-content">import '/node_modules/vite/dist/client/env.mjs';
			</td>
	</tr>
	<tr>
		<td class="line-number" value="2"></td>
		<td class="line-content"><br></td></tr>
		<tr><td class="line-number" value="3"></td>
		<td class="line-content">// set :host styles to make playwright detect the element as visible</td></tr><tr><td class="line-number" value="4"></td><td class="line-content">const template = /*html*/ `</td></tr><tr><td class="line-number" value="5"></td><td class="line-content">&lt;style&gt;</td></tr><tr><td class="line-number" value="6"></td>
		<td class="line-content">:host {</td></tr>
		<tr><td class="line-number" value="7"></td><td class="line-content">  position: fixed;</td></tr><tr><td class="line-number" value="8"></td><td class="line-content">  top: 0;</td></tr><tr><td class="line-number" value="9"></td><td class="line-content">  left: 0;</td></tr><tr><td class="line-number" value="10"></td><td class="line-content">  width: 100%;</td></tr><tr><td class="line-number" value="11"></td><td class="line-content">  height: 100%;</td></tr><tr><td class="line-number" value="12"></td><td class="line-content">  z-index: 99999;</td></tr><tr><td class="line-number" value="13"></td><td class="line-content">  --monospace: 'SFMono-Regular', Consolas,</td></tr><tr><td class="line-number" value="14"></td><td class="line-content">  'Liberation Mono', Menlo, Courier, monospace;</td></tr><tr><td class="line-number" value="15"></td><td class="line-content">  --red: #ff5555;</td></tr><tr><td class="line-number" value="16"></td><td class="line-content">  --yellow: #e2aa53;</td></tr><tr><td class="line-number" value="17"></td><td class="line-content">  --purple: #cfa4ff;</td></tr><tr><td class="line-number" value="18"></td><td class="line-content">  --cyan: #2dd9da;</td></tr><tr><td class="line-number" value="19"></td><td class="line-content">  --dim: #c9c9c9;</td></tr><tr><td class="line-number" value="20"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="21"></td><td class="line-content">  --window-background: #181818;</td></tr><tr><td class="line-number" value="22"></td><td class="line-content">  --window-color: #d8d8d8;</td></tr><tr><td class="line-number" value="23"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="24"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="25"></td><td class="line-content">.backdrop {</td></tr><tr><td class="line-number" value="26"></td><td class="line-content">  position: fixed;</td></tr><tr><td class="line-number" value="27"></td><td class="line-content">  z-index: 99999;</td></tr><tr><td class="line-number" value="28"></td><td class="line-content">  top: 0;</td></tr><tr><td class="line-number" value="29"></td><td class="line-content">  left: 0;</td></tr><tr><td class="line-number" value="30"></td><td class="line-content">  width: 100%;</td></tr><tr><td class="line-number" value="31"></td><td class="line-content">  height: 100%;</td></tr><tr><td class="line-number" value="32"></td><td class="line-content">  overflow-y: scroll;</td></tr><tr><td class="line-number" value="33"></td><td class="line-content">  margin: 0;</td></tr><tr><td class="line-number" value="34"></td><td class="line-content">  background: rgba(0, 0, 0, 0.66);</td></tr><tr><td class="line-number" value="35"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="36"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="37"></td><td class="line-content">.window {</td></tr><tr><td class="line-number" value="38"></td><td class="line-content">  font-family: var(--monospace);</td></tr><tr><td class="line-number" value="39"></td><td class="line-content">  line-height: 1.5;</td></tr><tr><td class="line-number" value="40"></td><td class="line-content">  width: 800px;</td></tr><tr><td class="line-number" value="41"></td><td class="line-content">  color: var(--window-color);</td></tr><tr><td class="line-number" value="42"></td><td class="line-content">  margin: 30px auto;</td></tr><tr><td class="line-number" value="43"></td><td class="line-content">  padding: 25px 40px;</td></tr><tr><td class="line-number" value="44"></td><td class="line-content">  position: relative;</td></tr><tr><td class="line-number" value="45"></td><td class="line-content">  background: var(--window-background);</td></tr><tr><td class="line-number" value="46"></td><td class="line-content">  border-radius: 6px 6px 8px 8px;</td></tr><tr><td class="line-number" value="47"></td><td class="line-content">  box-shadow: 0 19px 38px rgba(0,0,0,0.30), 0 15px 12px rgba(0,0,0,0.22);</td></tr><tr><td class="line-number" value="48"></td><td class="line-content">  overflow: hidden;</td></tr><tr><td class="line-number" value="49"></td><td class="line-content">  border-top: 8px solid var(--red);</td></tr><tr><td class="line-number" value="50"></td><td class="line-content">  direction: ltr;</td></tr><tr><td class="line-number" value="51"></td><td class="line-content">  text-align: left;</td></tr><tr><td class="line-number" value="52"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="53"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="54"></td><td class="line-content">pre {</td></tr><tr><td class="line-number" value="55"></td><td class="line-content">  font-family: var(--monospace);</td></tr><tr><td class="line-number" value="56"></td><td class="line-content">  font-size: 16px;</td></tr><tr><td class="line-number" value="57"></td><td class="line-content">  margin-top: 0;</td></tr><tr><td class="line-number" value="58"></td><td class="line-content">  margin-bottom: 1em;</td></tr><tr><td class="line-number" value="59"></td><td class="line-content">  overflow-x: scroll;</td></tr><tr><td class="line-number" value="60"></td><td class="line-content">  scrollbar-width: none;</td></tr><tr><td class="line-number" value="61"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="62"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="63"></td><td class="line-content">pre::-webkit-scrollbar {</td></tr><tr><td class="line-number" value="64"></td><td class="line-content">  display: none;</td></tr><tr><td class="line-number" value="65"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="66"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="67"></td><td class="line-content">.message {</td></tr><tr><td class="line-number" value="68"></td><td class="line-content">  line-height: 1.3;</td></tr><tr><td class="line-number" value="69"></td><td class="line-content">  font-weight: 600;</td></tr><tr><td class="line-number" value="70"></td><td class="line-content">  white-space: pre-wrap;</td></tr><tr><td class="line-number" value="71"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="72"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="73"></td><td class="line-content">.message-body {</td></tr><tr><td class="line-number" value="74"></td><td class="line-content">  color: var(--red);</td></tr><tr><td class="line-number" value="75"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="76"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="77"></td><td class="line-content">.plugin {</td></tr><tr><td class="line-number" value="78"></td><td class="line-content">  color: var(--purple);</td></tr><tr><td class="line-number" value="79"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="80"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="81"></td><td class="line-content">.file {</td></tr><tr><td class="line-number" value="82"></td><td class="line-content">  color: var(--cyan);</td></tr><tr><td class="line-number" value="83"></td><td class="line-content">  margin-bottom: 0;</td></tr><tr><td class="line-number" value="84"></td><td class="line-content">  white-space: pre-wrap;</td></tr><tr><td class="line-number" value="85"></td><td class="line-content">  word-break: break-all;</td></tr><tr><td class="line-number" value="86"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="87"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="88"></td><td class="line-content">.frame {</td></tr><tr><td class="line-number" value="89"></td><td class="line-content">  color: var(--yellow);</td></tr><tr><td class="line-number" value="90"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="91"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="92"></td><td class="line-content">.stack {</td></tr><tr><td class="line-number" value="93"></td><td class="line-content">  font-size: 13px;</td></tr><tr><td class="line-number" value="94"></td><td class="line-content">  color: var(--dim);</td></tr><tr><td class="line-number" value="95"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="96"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="97"></td><td class="line-content">.tip {</td></tr><tr><td class="line-number" value="98"></td><td class="line-content">  font-size: 13px;</td></tr><tr><td class="line-number" value="99"></td><td class="line-content">  color: #999;</td></tr><tr><td class="line-number" value="100"></td><td class="line-content">  border-top: 1px dotted #999;</td></tr><tr><td class="line-number" value="101"></td><td class="line-content">  padding-top: 13px;</td></tr><tr><td class="line-number" value="102"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="103"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="104"></td><td class="line-content">code {</td></tr><tr><td class="line-number" value="105"></td><td class="line-content">  font-size: 13px;</td></tr><tr><td class="line-number" value="106"></td><td class="line-content">  font-family: var(--monospace);</td></tr><tr><td class="line-number" value="107"></td><td class="line-content">  color: var(--yellow);</td></tr><tr><td class="line-number" value="108"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="109"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="110"></td><td class="line-content">.file-link {</td></tr><tr><td class="line-number" value="111"></td><td class="line-content">  text-decoration: underline;</td></tr><tr><td class="line-number" value="112"></td><td class="line-content">  cursor: pointer;</td></tr><tr><td class="line-number" value="113"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="114"></td><td class="line-content">&lt;/style&gt;</td></tr><tr><td class="line-number" value="115"></td><td class="line-content">&lt;div class="backdrop" part="backdrop"&gt;</td></tr><tr><td class="line-number" value="116"></td><td class="line-content">  &lt;div class="window" part="window"&gt;</td></tr><tr><td class="line-number" value="117"></td><td class="line-content">    &lt;pre class="message" part="message"&gt;&lt;span class="plugin"&gt;&lt;/span&gt;&lt;span class="message-body"&gt;&lt;/span&gt;&lt;/pre&gt;</td></tr><tr><td class="line-number" value="118"></td><td class="line-content">    &lt;pre class="file" part="file"&gt;&lt;/pre&gt;</td></tr><tr><td class="line-number" value="119"></td><td class="line-content">    &lt;pre class="frame" part="frame"&gt;&lt;/pre&gt;</td></tr><tr><td class="line-number" value="120"></td><td class="line-content">    &lt;pre class="stack" part="stack"&gt;&lt;/pre&gt;</td></tr><tr><td class="line-number" value="121"></td><td class="line-content">    &lt;div class="tip" part="tip"&gt;</td></tr><tr><td class="line-number" value="122"></td><td class="line-content">      Click outside or fix the code to dismiss.&lt;br&gt;</td></tr><tr><td class="line-number" value="123"></td><td class="line-content">      You can also disable this overlay by setting</td></tr><tr><td class="line-number" value="124"></td><td class="line-content">      &lt;code&gt;server.hmr.overlay&lt;/code&gt; to &lt;code&gt;false&lt;/code&gt; in &lt;code&gt;vite.config.js.&lt;/code&gt;</td></tr><tr><td class="line-number" value="125"></td><td class="line-content">    &lt;/div&gt;</td></tr><tr><td class="line-number" value="126"></td><td class="line-content">  &lt;/div&gt;</td></tr><tr><td class="line-number" value="127"></td><td class="line-content">&lt;/div&gt;</td></tr><tr><td class="line-number" value="128"></td><td class="line-content">`;</td></tr><tr><td class="line-number" value="129"></td><td class="line-content">const fileRE = /(?:[a-zA-Z]:\\|\/).*?:\d+:\d+/g;</td></tr><tr><td class="line-number" value="130"></td><td class="line-content">const codeframeRE = /^(?:&gt;?\s+\d+\s+\|.*|\s+\|\s*\^.*)\r?\n/gm;</td></tr><tr><td class="line-number" value="131"></td><td class="line-content">// Allow `ErrorOverlay` to extend `HTMLElement` even in environments where</td></tr><tr><td class="line-number" value="132"></td><td class="line-content">// `HTMLElement` was not originally defined.</td></tr><tr><td class="line-number" value="133"></td><td class="line-content">const { HTMLElement = class {</td></tr><tr><td class="line-number" value="134"></td><td class="line-content">} } = globalThis;</td></tr><tr><td class="line-number" value="135"></td><td class="line-content">class ErrorOverlay extends HTMLElement {</td></tr><tr><td class="line-number" value="136"></td><td class="line-content">    constructor(err, links = true) {</td></tr><tr><td class="line-number" value="137"></td><td class="line-content">        var _a;</td></tr><tr><td class="line-number" value="138"></td><td class="line-content">        super();</td></tr><tr><td class="line-number" value="139"></td><td class="line-content">        this.root = this.attachShadow({ mode: 'open' });</td></tr><tr><td class="line-number" value="140"></td><td class="line-content">        this.root.innerHTML = template;</td></tr><tr><td class="line-number" value="141"></td><td class="line-content">        codeframeRE.lastIndex = 0;</td></tr><tr><td class="line-number" value="142"></td><td class="line-content">        const hasFrame = err.frame &amp;&amp; codeframeRE.test(err.frame);</td></tr><tr><td class="line-number" value="143"></td><td class="line-content">        const message = hasFrame</td></tr><tr><td class="line-number" value="144"></td><td class="line-content">            ? err.message.replace(codeframeRE, '')</td></tr><tr><td class="line-number" value="145"></td><td class="line-content">            : err.message;</td></tr><tr><td class="line-number" value="146"></td><td class="line-content">        if (err.plugin) {</td></tr><tr><td class="line-number" value="147"></td><td class="line-content">            this.text('.plugin', `[plugin:${err.plugin}] `);</td></tr><tr><td class="line-number" value="148"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="149"></td><td class="line-content">        this.text('.message-body', message.trim());</td></tr><tr><td class="line-number" value="150"></td><td class="line-content">        const [file] = (((_a = err.loc) === null || _a === void 0 ? void 0 : _a.file) || err.id || 'unknown file').split(`?`);</td></tr><tr><td class="line-number" value="151"></td><td class="line-content">        if (err.loc) {</td></tr><tr><td class="line-number" value="152"></td><td class="line-content">            this.text('.file', `${file}:${err.loc.line}:${err.loc.column}`, links);</td></tr><tr><td class="line-number" value="153"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="154"></td><td class="line-content">        else if (err.id) {</td></tr><tr><td class="line-number" value="155"></td><td class="line-content">            this.text('.file', file);</td></tr><tr><td class="line-number" value="156"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="157"></td><td class="line-content">        if (hasFrame) {</td></tr><tr><td class="line-number" value="158"></td><td class="line-content">            this.text('.frame', err.frame.trim());</td></tr><tr><td class="line-number" value="159"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="160"></td><td class="line-content">        this.text('.stack', err.stack, links);</td></tr><tr><td class="line-number" value="161"></td><td class="line-content">        this.root.querySelector('.window').addEventListener('click', (e) =&gt; {</td></tr><tr><td class="line-number" value="162"></td><td class="line-content">            e.stopPropagation();</td></tr><tr><td class="line-number" value="163"></td><td class="line-content">        });</td></tr><tr><td class="line-number" value="164"></td><td class="line-content">        this.addEventListener('click', () =&gt; {</td></tr><tr><td class="line-number" value="165"></td><td class="line-content">            this.close();</td></tr><tr><td class="line-number" value="166"></td><td class="line-content">        });</td></tr><tr><td class="line-number" value="167"></td><td class="line-content">    }</td></tr><tr><td class="line-number" value="168"></td><td class="line-content">    text(selector, text, linkFiles = false) {</td></tr><tr><td class="line-number" value="169"></td><td class="line-content">        const el = this.root.querySelector(selector);</td></tr><tr><td class="line-number" value="170"></td><td class="line-content">        if (!linkFiles) {</td></tr><tr><td class="line-number" value="171"></td><td class="line-content">            el.textContent = text;</td></tr><tr><td class="line-number" value="172"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="173"></td><td class="line-content">        else {</td></tr><tr><td class="line-number" value="174"></td><td class="line-content">            let curIndex = 0;</td></tr><tr><td class="line-number" value="175"></td><td class="line-content">            let match;</td></tr><tr><td class="line-number" value="176"></td><td class="line-content">            fileRE.lastIndex = 0;</td></tr><tr><td class="line-number" value="177"></td><td class="line-content">            while ((match = fileRE.exec(text))) {</td></tr><tr><td class="line-number" value="178"></td><td class="line-content">                const { 0: file, index } = match;</td></tr><tr><td class="line-number" value="179"></td><td class="line-content">                if (index != null) {</td></tr><tr><td class="line-number" value="180"></td><td class="line-content">                    const frag = text.slice(curIndex, index);</td></tr><tr><td class="line-number" value="181"></td><td class="line-content">                    el.appendChild(document.createTextNode(frag));</td></tr><tr><td class="line-number" value="182"></td><td class="line-content">                    const link = document.createElement('a');</td></tr><tr><td class="line-number" value="183"></td><td class="line-content">                    link.textContent = file;</td></tr><tr><td class="line-number" value="184"></td><td class="line-content">                    link.className = 'file-link';</td></tr><tr><td class="line-number" value="185"></td><td class="line-content">                    link.onclick = () =&gt; {</td></tr><tr><td class="line-number" value="186"></td><td class="line-content">                        fetch('/__open-in-editor?file=' + encodeURIComponent(file));</td></tr><tr><td class="line-number" value="187"></td><td class="line-content">                    };</td></tr><tr><td class="line-number" value="188"></td><td class="line-content">                    el.appendChild(link);</td></tr><tr><td class="line-number" value="189"></td><td class="line-content">                    curIndex += frag.length + file.length;</td></tr><tr><td class="line-number" value="190"></td><td class="line-content">                }</td></tr><tr><td class="line-number" value="191"></td><td class="line-content">            }</td></tr><tr><td class="line-number" value="192"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="193"></td><td class="line-content">    }</td></tr><tr><td class="line-number" value="194"></td><td class="line-content">    close() {</td></tr><tr><td class="line-number" value="195"></td><td class="line-content">        var _a;</td></tr><tr><td class="line-number" value="196"></td><td class="line-content">        (_a = this.parentNode) === null || _a === void 0 ? void 0 : _a.removeChild(this);</td></tr><tr><td class="line-number" value="197"></td><td class="line-content">    }</td></tr><tr><td class="line-number" value="198"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="199"></td><td class="line-content">const overlayId = 'vite-error-overlay';</td></tr><tr><td class="line-number" value="200"></td><td class="line-content">const { customElements } = globalThis; // Ensure `customElements` is defined before the next line.</td></tr><tr><td class="line-number" value="201"></td><td class="line-content">if (customElements &amp;&amp; !customElements.get(overlayId)) {</td></tr><tr><td class="line-number" value="202"></td><td class="line-content">    customElements.define(overlayId, ErrorOverlay);</td></tr><tr><td class="line-number" value="203"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="204"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="205"></td><td class="line-content">console.debug('[vite] connecting...');</td></tr><tr><td class="line-number" value="206"></td><td class="line-content">const importMetaUrl = new URL(import.meta.url);</td></tr><tr><td class="line-number" value="207"></td><td class="line-content">// use server configuration, then fallback to inference</td></tr><tr><td class="line-number" value="208"></td><td class="line-content">const serverHost = "localhost:5173/";</td></tr><tr><td class="line-number" value="209"></td><td class="line-content">const socketProtocol = null || (location.protocol === 'https:' ? 'wss' : 'ws');</td></tr><tr><td class="line-number" value="210"></td><td class="line-content">const hmrPort = null;</td></tr><tr><td class="line-number" value="211"></td><td class="line-content">const socketHost = `${null || importMetaUrl.hostname}:${hmrPort || importMetaUrl.port}${"/"}`;</td></tr><tr><td class="line-number" value="212"></td><td class="line-content">const directSocketHost = "localhost:5173/";</td></tr><tr><td class="line-number" value="213"></td><td class="line-content">const base = "/" || '/';</td></tr><tr><td class="line-number" value="214"></td><td class="line-content">const messageBuffer = [];</td></tr><tr><td class="line-number" value="215"></td><td class="line-content">let socket;</td></tr><tr><td class="line-number" value="216"></td><td class="line-content">try {</td></tr><tr><td class="line-number" value="217"></td><td class="line-content">    let fallback;</td></tr><tr><td class="line-number" value="218"></td><td class="line-content">    // only use fallback when port is inferred to prevent confusion</td></tr><tr><td class="line-number" value="219"></td><td class="line-content">    if (!hmrPort) {</td></tr><tr><td class="line-number" value="220"></td><td class="line-content">        fallback = () =&gt; {</td></tr><tr><td class="line-number" value="221"></td><td class="line-content">            // fallback to connecting directly to the hmr server</td></tr><tr><td class="line-number" value="222"></td><td class="line-content">            // for servers which does not support proxying websocket</td></tr><tr><td class="line-number" value="223"></td><td class="line-content">            socket = setupWebSocket(socketProtocol, directSocketHost, () =&gt; {</td></tr><tr><td class="line-number" value="224"></td><td class="line-content">                const currentScriptHostURL = new URL(import.meta.url);</td></tr><tr><td class="line-number" value="225"></td><td class="line-content">                const currentScriptHost = currentScriptHostURL.host +</td></tr><tr><td class="line-number" value="226"></td><td class="line-content">                    currentScriptHostURL.pathname.replace(/@vite\/client$/, '');</td></tr><tr><td class="line-number" value="227"></td><td class="line-content">                console.error('[vite] failed to connect to websocket.\n' +</td></tr><tr><td class="line-number" value="228"></td><td class="line-content">                    'your current setup:\n' +</td></tr><tr><td class="line-number" value="229"></td><td class="line-content">                    `  (browser) ${currentScriptHost} &lt;--[HTTP]--&gt; ${serverHost} (server)\n` +</td></tr><tr><td class="line-number" value="230"></td><td class="line-content">                    `  (browser) ${socketHost} &lt;--[WebSocket (failing)]--&gt; ${directSocketHost} (server)\n` +</td></tr><tr><td class="line-number" value="231"></td><td class="line-content">                    'Check out your Vite / network configuration and https://vitejs.dev/config/server-options.html#server-hmr .');</td></tr><tr><td class="line-number" value="232"></td><td class="line-content">            });</td></tr><tr><td class="line-number" value="233"></td><td class="line-content">            socket.addEventListener('open', () =&gt; {</td></tr><tr><td class="line-number" value="234"></td><td class="line-content">                console.info('[vite] Direct websocket connection fallback. Check out https://vitejs.dev/config/server-options.html#server-hmr to remove the previous connection error.');</td></tr><tr><td class="line-number" value="235"></td><td class="line-content">            }, { once: true });</td></tr><tr><td class="line-number" value="236"></td><td class="line-content">        };</td></tr><tr><td class="line-number" value="237"></td><td class="line-content">    }</td></tr><tr><td class="line-number" value="238"></td><td class="line-content">    socket = setupWebSocket(socketProtocol, socketHost, fallback);</td></tr><tr><td class="line-number" value="239"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="240"></td><td class="line-content">catch (error) {</td></tr><tr><td class="line-number" value="241"></td><td class="line-content">    console.error(`[vite] failed to connect to websocket (${error}). `);</td></tr><tr><td class="line-number" value="242"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="243"></td><td class="line-content">function setupWebSocket(protocol, hostAndPath, onCloseWithoutOpen) {</td></tr><tr><td class="line-number" value="244"></td><td class="line-content">    const socket = new WebSocket(`${protocol}://${hostAndPath}`, 'vite-hmr');</td></tr><tr><td class="line-number" value="245"></td><td class="line-content">    let isOpened = false;</td></tr><tr><td class="line-number" value="246"></td><td class="line-content">    socket.addEventListener('open', () =&gt; {</td></tr><tr><td class="line-number" value="247"></td><td class="line-content">        isOpened = true;</td></tr><tr><td class="line-number" value="248"></td><td class="line-content">    }, { once: true });</td></tr><tr><td class="line-number" value="249"></td><td class="line-content">    // Listen for messages</td></tr><tr><td class="line-number" value="250"></td><td class="line-content">    socket.addEventListener('message', async ({ data }) =&gt; {</td></tr><tr><td class="line-number" value="251"></td><td class="line-content">        handleMessage(JSON.parse(data));</td></tr><tr><td class="line-number" value="252"></td><td class="line-content">    });</td></tr><tr><td class="line-number" value="253"></td><td class="line-content">    // ping server</td></tr><tr><td class="line-number" value="254"></td><td class="line-content">    socket.addEventListener('close', async ({ wasClean }) =&gt; {</td></tr><tr><td class="line-number" value="255"></td><td class="line-content">        if (wasClean)</td></tr><tr><td class="line-number" value="256"></td><td class="line-content">            return;</td></tr><tr><td class="line-number" value="257"></td><td class="line-content">        if (!isOpened &amp;&amp; onCloseWithoutOpen) {</td></tr><tr><td class="line-number" value="258"></td><td class="line-content">            onCloseWithoutOpen();</td></tr><tr><td class="line-number" value="259"></td><td class="line-content">            return;</td></tr><tr><td class="line-number" value="260"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="261"></td><td class="line-content">        console.log(`[vite] server connection lost. polling for restart...`);</td></tr><tr><td class="line-number" value="262"></td><td class="line-content">        await waitForSuccessfulPing(protocol, hostAndPath);</td></tr><tr><td class="line-number" value="263"></td><td class="line-content">        location.reload();</td></tr><tr><td class="line-number" value="264"></td><td class="line-content">    });</td></tr><tr><td class="line-number" value="265"></td><td class="line-content">    return socket;</td></tr><tr><td class="line-number" value="266"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="267"></td><td class="line-content">function warnFailedFetch(err, path) {</td></tr><tr><td class="line-number" value="268"></td><td class="line-content">    if (!err.message.match('fetch')) {</td></tr><tr><td class="line-number" value="269"></td><td class="line-content">        console.error(err);</td></tr><tr><td class="line-number" value="270"></td><td class="line-content">    }</td></tr><tr><td class="line-number" value="271"></td><td class="line-content">    console.error(`[hmr] Failed to reload ${path}. ` +</td></tr><tr><td class="line-number" value="272"></td><td class="line-content">        `This could be due to syntax errors or importing non-existent ` +</td></tr><tr><td class="line-number" value="273"></td><td class="line-content">        `modules. (see errors above)`);</td></tr><tr><td class="line-number" value="274"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="275"></td><td class="line-content">function cleanUrl(pathname) {</td></tr><tr><td class="line-number" value="276"></td><td class="line-content">    const url = new URL(pathname, location.toString());</td></tr><tr><td class="line-number" value="277"></td><td class="line-content">    url.searchParams.delete('direct');</td></tr><tr><td class="line-number" value="278"></td><td class="line-content">    return url.pathname + url.search;</td></tr><tr><td class="line-number" value="279"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="280"></td><td class="line-content">let isFirstUpdate = true;</td></tr><tr><td class="line-number" value="281"></td><td class="line-content">const outdatedLinkTags = new WeakSet();</td></tr><tr><td class="line-number" value="282"></td><td class="line-content">async function handleMessage(payload) {</td></tr><tr><td class="line-number" value="283"></td><td class="line-content">    switch (payload.type) {</td></tr><tr><td class="line-number" value="284"></td><td class="line-content">        case 'connected':</td></tr><tr><td class="line-number" value="285"></td><td class="line-content">            console.debug(`[vite] connected.`);</td></tr><tr><td class="line-number" value="286"></td><td class="line-content">            sendMessageBuffer();</td></tr><tr><td class="line-number" value="287"></td><td class="line-content">            // proxy(nginx, docker) hmr ws maybe caused timeout,</td></tr><tr><td class="line-number" value="288"></td><td class="line-content">            // so send ping package let ws keep alive.</td></tr><tr><td class="line-number" value="289"></td><td class="line-content">            setInterval(() =&gt; {</td></tr><tr><td class="line-number" value="290"></td><td class="line-content">                if (socket.readyState === socket.OPEN) {</td></tr><tr><td class="line-number" value="291"></td><td class="line-content">                    socket.send('{"type":"ping"}');</td></tr><tr><td class="line-number" value="292"></td><td class="line-content">                }</td></tr><tr><td class="line-number" value="293"></td><td class="line-content">            }, 30000);</td></tr><tr><td class="line-number" value="294"></td><td class="line-content">            break;</td></tr><tr><td class="line-number" value="295"></td><td class="line-content">        case 'update':</td></tr><tr><td class="line-number" value="296"></td><td class="line-content">            notifyListeners('vite:beforeUpdate', payload);</td></tr><tr><td class="line-number" value="297"></td><td class="line-content">            // if this is the first update and there's already an error overlay, it</td></tr><tr><td class="line-number" value="298"></td><td class="line-content">            // means the page opened with existing server compile error and the whole</td></tr><tr><td class="line-number" value="299"></td><td class="line-content">            // module script failed to load (since one of the nested imports is 500).</td></tr><tr><td class="line-number" value="300"></td><td class="line-content">            // in this case a normal update won't work and a full reload is needed.</td></tr><tr><td class="line-number" value="301"></td><td class="line-content">            if (isFirstUpdate &amp;&amp; hasErrorOverlay()) {</td></tr><tr><td class="line-number" value="302"></td><td class="line-content">                window.location.reload();</td></tr><tr><td class="line-number" value="303"></td><td class="line-content">                return;</td></tr><tr><td class="line-number" value="304"></td><td class="line-content">            }</td></tr><tr><td class="line-number" value="305"></td><td class="line-content">            else {</td></tr><tr><td class="line-number" value="306"></td><td class="line-content">                clearErrorOverlay();</td></tr><tr><td class="line-number" value="307"></td><td class="line-content">                isFirstUpdate = false;</td></tr><tr><td class="line-number" value="308"></td><td class="line-content">            }</td></tr><tr><td class="line-number" value="309"></td><td class="line-content">            await Promise.all(payload.updates.map(async (update) =&gt; {</td></tr><tr><td class="line-number" value="310"></td><td class="line-content">                if (update.type === 'js-update') {</td></tr><tr><td class="line-number" value="311"></td><td class="line-content">                    return queueUpdate(fetchUpdate(update));</td></tr><tr><td class="line-number" value="312"></td><td class="line-content">                }</td></tr><tr><td class="line-number" value="313"></td><td class="line-content">                // css-update</td></tr><tr><td class="line-number" value="314"></td><td class="line-content">                // this is only sent when a css file referenced with &lt;link&gt; is updated</td></tr><tr><td class="line-number" value="315"></td><td class="line-content">                const { path, timestamp } = update;</td></tr><tr><td class="line-number" value="316"></td><td class="line-content">                const searchUrl = cleanUrl(path);</td></tr><tr><td class="line-number" value="317"></td><td class="line-content">                // can't use querySelector with `[href*=]` here since the link may be</td></tr><tr><td class="line-number" value="318"></td><td class="line-content">                // using relative paths so we need to use link.href to grab the full</td></tr><tr><td class="line-number" value="319"></td><td class="line-content">                // URL for the include check.</td></tr><tr><td class="line-number" value="320"></td><td class="line-content">                const el = Array.from(document.querySelectorAll('link')).find((e) =&gt; !outdatedLinkTags.has(e) &amp;&amp; cleanUrl(e.href).includes(searchUrl));</td></tr><tr><td class="line-number" value="321"></td><td class="line-content">                if (!el) {</td></tr><tr><td class="line-number" value="322"></td><td class="line-content">                    return;</td></tr><tr><td class="line-number" value="323"></td><td class="line-content">                }</td></tr><tr><td class="line-number" value="324"></td><td class="line-content">                const newPath = `${base}${searchUrl.slice(1)}${searchUrl.includes('?') ? '&amp;' : '?'}t=${timestamp}`;</td></tr><tr><td class="line-number" value="325"></td><td class="line-content">                // rather than swapping the href on the existing tag, we will</td></tr><tr><td class="line-number" value="326"></td><td class="line-content">                // create a new link tag. Once the new stylesheet has loaded we</td></tr><tr><td class="line-number" value="327"></td><td class="line-content">                // will remove the existing link tag. This removes a Flash Of</td></tr><tr><td class="line-number" value="328"></td><td class="line-content">                // Unstyled Content that can occur when swapping out the tag href</td></tr><tr><td class="line-number" value="329"></td><td class="line-content">                // directly, as the new stylesheet has not yet been loaded.</td></tr><tr><td class="line-number" value="330"></td><td class="line-content">                return new Promise((resolve) =&gt; {</td></tr><tr><td class="line-number" value="331"></td><td class="line-content">                    const newLinkTag = el.cloneNode();</td></tr><tr><td class="line-number" value="332"></td><td class="line-content">                    newLinkTag.href = new URL(newPath, el.href).href;</td></tr><tr><td class="line-number" value="333"></td><td class="line-content">                    const removeOldEl = () =&gt; {</td></tr><tr><td class="line-number" value="334"></td><td class="line-content">                        el.remove();</td></tr><tr><td class="line-number" value="335"></td><td class="line-content">                        console.debug(`[vite] css hot updated: ${searchUrl}`);</td></tr><tr><td class="line-number" value="336"></td><td class="line-content">                        resolve();</td></tr><tr><td class="line-number" value="337"></td><td class="line-content">                    };</td></tr><tr><td class="line-number" value="338"></td><td class="line-content">                    newLinkTag.addEventListener('load', removeOldEl);</td></tr><tr><td class="line-number" value="339"></td><td class="line-content">                    newLinkTag.addEventListener('error', removeOldEl);</td></tr><tr><td class="line-number" value="340"></td><td class="line-content">                    outdatedLinkTags.add(el);</td></tr><tr><td class="line-number" value="341"></td><td class="line-content">                    el.after(newLinkTag);</td></tr><tr><td class="line-number" value="342"></td><td class="line-content">                });</td></tr><tr><td class="line-number" value="343"></td><td class="line-content">            }));</td></tr><tr><td class="line-number" value="344"></td><td class="line-content">            notifyListeners('vite:afterUpdate', payload);</td></tr><tr><td class="line-number" value="345"></td><td class="line-content">            break;</td></tr><tr><td class="line-number" value="346"></td><td class="line-content">        case 'custom': {</td></tr><tr><td class="line-number" value="347"></td><td class="line-content">            notifyListeners(payload.event, payload.data);</td></tr><tr><td class="line-number" value="348"></td><td class="line-content">            break;</td></tr><tr><td class="line-number" value="349"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="350"></td><td class="line-content">        case 'full-reload':</td></tr><tr><td class="line-number" value="351"></td><td class="line-content">            notifyListeners('vite:beforeFullReload', payload);</td></tr><tr><td class="line-number" value="352"></td><td class="line-content">            if (payload.path &amp;&amp; payload.path.endsWith('.html')) {</td></tr><tr><td class="line-number" value="353"></td><td class="line-content">                // if html file is edited, only reload the page if the browser is</td></tr><tr><td class="line-number" value="354"></td><td class="line-content">                // currently on that page.</td></tr><tr><td class="line-number" value="355"></td><td class="line-content">                const pagePath = decodeURI(location.pathname);</td></tr><tr><td class="line-number" value="356"></td><td class="line-content">                const payloadPath = base + payload.path.slice(1);</td></tr><tr><td class="line-number" value="357"></td><td class="line-content">                if (pagePath === payloadPath ||</td></tr><tr><td class="line-number" value="358"></td><td class="line-content">                    payload.path === '/index.html' ||</td></tr><tr><td class="line-number" value="359"></td><td class="line-content">                    (pagePath.endsWith('/') &amp;&amp; pagePath + 'index.html' === payloadPath)) {</td></tr><tr><td class="line-number" value="360"></td><td class="line-content">                    location.reload();</td></tr><tr><td class="line-number" value="361"></td><td class="line-content">                }</td></tr><tr><td class="line-number" value="362"></td><td class="line-content">                return;</td></tr><tr><td class="line-number" value="363"></td><td class="line-content">            }</td></tr><tr><td class="line-number" value="364"></td><td class="line-content">            else {</td></tr><tr><td class="line-number" value="365"></td><td class="line-content">                location.reload();</td></tr><tr><td class="line-number" value="366"></td><td class="line-content">            }</td></tr><tr><td class="line-number" value="367"></td><td class="line-content">            break;</td></tr><tr><td class="line-number" value="368"></td><td class="line-content">        case 'prune':</td></tr><tr><td class="line-number" value="369"></td><td class="line-content">            notifyListeners('vite:beforePrune', payload);</td></tr><tr><td class="line-number" value="370"></td><td class="line-content">            // After an HMR update, some modules are no longer imported on the page</td></tr><tr><td class="line-number" value="371"></td><td class="line-content">            // but they may have left behind side effects that need to be cleaned up</td></tr><tr><td class="line-number" value="372"></td><td class="line-content">            // (.e.g style injections)</td></tr><tr><td class="line-number" value="373"></td><td class="line-content">            // TODO Trigger their dispose callbacks.</td></tr><tr><td class="line-number" value="374"></td><td class="line-content">            payload.paths.forEach((path) =&gt; {</td></tr><tr><td class="line-number" value="375"></td><td class="line-content">                const fn = pruneMap.get(path);</td></tr><tr><td class="line-number" value="376"></td><td class="line-content">                if (fn) {</td></tr><tr><td class="line-number" value="377"></td><td class="line-content">                    fn(dataMap.get(path));</td></tr><tr><td class="line-number" value="378"></td><td class="line-content">                }</td></tr><tr><td class="line-number" value="379"></td><td class="line-content">            });</td></tr><tr><td class="line-number" value="380"></td><td class="line-content">            break;</td></tr><tr><td class="line-number" value="381"></td><td class="line-content">        case 'error': {</td></tr><tr><td class="line-number" value="382"></td><td class="line-content">            notifyListeners('vite:error', payload);</td></tr><tr><td class="line-number" value="383"></td><td class="line-content">            const err = payload.err;</td></tr><tr><td class="line-number" value="384"></td><td class="line-content">            if (enableOverlay) {</td></tr><tr><td class="line-number" value="385"></td><td class="line-content">                createErrorOverlay(err);</td></tr><tr><td class="line-number" value="386"></td><td class="line-content">            }</td></tr><tr><td class="line-number" value="387"></td><td class="line-content">            else {</td></tr><tr><td class="line-number" value="388"></td><td class="line-content">                console.error(`[vite] Internal Server Error\n${err.message}\n${err.stack}`);</td></tr><tr><td class="line-number" value="389"></td><td class="line-content">            }</td></tr><tr><td class="line-number" value="390"></td><td class="line-content">            break;</td></tr><tr><td class="line-number" value="391"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="392"></td><td class="line-content">        default: {</td></tr><tr><td class="line-number" value="393"></td><td class="line-content">            const check = payload;</td></tr><tr><td class="line-number" value="394"></td><td class="line-content">            return check;</td></tr><tr><td class="line-number" value="395"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="396"></td><td class="line-content">    }</td></tr><tr><td class="line-number" value="397"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="398"></td><td class="line-content">function notifyListeners(event, data) {</td></tr><tr><td class="line-number" value="399"></td><td class="line-content">    const cbs = customListenersMap.get(event);</td></tr><tr><td class="line-number" value="400"></td><td class="line-content">    if (cbs) {</td></tr><tr><td class="line-number" value="401"></td><td class="line-content">        cbs.forEach((cb) =&gt; cb(data));</td></tr><tr><td class="line-number" value="402"></td><td class="line-content">    }</td></tr><tr><td class="line-number" value="403"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="404"></td><td class="line-content">const enableOverlay = true;</td></tr><tr><td class="line-number" value="405"></td><td class="line-content">function createErrorOverlay(err) {</td></tr><tr><td class="line-number" value="406"></td><td class="line-content">    if (!enableOverlay)</td></tr><tr><td class="line-number" value="407"></td><td class="line-content">        return;</td></tr><tr><td class="line-number" value="408"></td><td class="line-content">    clearErrorOverlay();</td></tr><tr><td class="line-number" value="409"></td><td class="line-content">    document.body.appendChild(new ErrorOverlay(err));</td></tr><tr><td class="line-number" value="410"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="411"></td><td class="line-content">function clearErrorOverlay() {</td></tr><tr><td class="line-number" value="412"></td><td class="line-content">    document</td></tr><tr><td class="line-number" value="413"></td><td class="line-content">        .querySelectorAll(overlayId)</td></tr><tr><td class="line-number" value="414"></td><td class="line-content">        .forEach((n) =&gt; n.close());</td></tr><tr><td class="line-number" value="415"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="416"></td><td class="line-content">function hasErrorOverlay() {</td></tr><tr><td class="line-number" value="417"></td><td class="line-content">    return document.querySelectorAll(overlayId).length;</td></tr><tr><td class="line-number" value="418"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="419"></td><td class="line-content">let pending = false;</td></tr><tr><td class="line-number" value="420"></td><td class="line-content">let queued = [];</td></tr><tr><td class="line-number" value="421"></td><td class="line-content">/**</td></tr><tr><td class="line-number" value="422"></td><td class="line-content"> * buffer multiple hot updates triggered by the same src change</td></tr><tr><td class="line-number" value="423"></td><td class="line-content"> * so that they are invoked in the same order they were sent.</td></tr><tr><td class="line-number" value="424"></td><td class="line-content"> * (otherwise the order may be inconsistent because of the http request round trip)</td></tr><tr><td class="line-number" value="425"></td><td class="line-content"> */</td></tr><tr><td class="line-number" value="426"></td><td class="line-content">async function queueUpdate(p) {</td></tr><tr><td class="line-number" value="427"></td><td class="line-content">    queued.push(p);</td></tr><tr><td class="line-number" value="428"></td><td class="line-content">    if (!pending) {</td></tr><tr><td class="line-number" value="429"></td><td class="line-content">        pending = true;</td></tr><tr><td class="line-number" value="430"></td><td class="line-content">        await Promise.resolve();</td></tr><tr><td class="line-number" value="431"></td><td class="line-content">        pending = false;</td></tr><tr><td class="line-number" value="432"></td><td class="line-content">        const loading = [...queued];</td></tr><tr><td class="line-number" value="433"></td><td class="line-content">        queued = [];</td></tr><tr><td class="line-number" value="434"></td><td class="line-content">        (await Promise.all(loading)).forEach((fn) =&gt; fn &amp;&amp; fn());</td></tr><tr><td class="line-number" value="435"></td><td class="line-content">    }</td></tr><tr><td class="line-number" value="436"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="437"></td><td class="line-content">async function waitForSuccessfulPing(socketProtocol, hostAndPath, ms = 1000) {</td></tr><tr><td class="line-number" value="438"></td><td class="line-content">    const pingHostProtocol = socketProtocol === 'wss' ? 'https' : 'http';</td></tr><tr><td class="line-number" value="439"></td><td class="line-content">    // eslint-disable-next-line no-constant-condition</td></tr><tr><td class="line-number" value="440"></td><td class="line-content">    while (true) {</td></tr><tr><td class="line-number" value="441"></td><td class="line-content">        try {</td></tr><tr><td class="line-number" value="442"></td><td class="line-content">            // A fetch on a websocket URL will return a successful promise with status 400,</td></tr><tr><td class="line-number" value="443"></td><td class="line-content">            // but will reject a networking error.</td></tr><tr><td class="line-number" value="444"></td><td class="line-content">            // When running on middleware mode, it returns status 426, and an cors error happens if mode is not no-cors</td></tr><tr><td class="line-number" value="445"></td><td class="line-content">            await fetch(`${pingHostProtocol}://${hostAndPath}`, {</td></tr><tr><td class="line-number" value="446"></td><td class="line-content">                mode: 'no-cors'</td></tr><tr><td class="line-number" value="447"></td><td class="line-content">            });</td></tr><tr><td class="line-number" value="448"></td><td class="line-content">            break;</td></tr><tr><td class="line-number" value="449"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="450"></td><td class="line-content">        catch (e) {</td></tr><tr><td class="line-number" value="451"></td><td class="line-content">            // wait ms before attempting to ping again</td></tr><tr><td class="line-number" value="452"></td><td class="line-content">            await new Promise((resolve) =&gt; setTimeout(resolve, ms));</td></tr><tr><td class="line-number" value="453"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="454"></td><td class="line-content">    }</td></tr><tr><td class="line-number" value="455"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="456"></td><td class="line-content">const sheetsMap = new Map();</td></tr><tr><td class="line-number" value="457"></td><td class="line-content">function updateStyle(id, content) {</td></tr><tr><td class="line-number" value="458"></td><td class="line-content">    let style = sheetsMap.get(id);</td></tr><tr><td class="line-number" value="459"></td><td class="line-content">    {</td></tr><tr><td class="line-number" value="460"></td><td class="line-content">        if (style &amp;&amp; !(style instanceof HTMLStyleElement)) {</td></tr><tr><td class="line-number" value="461"></td><td class="line-content">            removeStyle(id);</td></tr><tr><td class="line-number" value="462"></td><td class="line-content">            style = undefined;</td></tr><tr><td class="line-number" value="463"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="464"></td><td class="line-content">        if (!style) {</td></tr><tr><td class="line-number" value="465"></td><td class="line-content">            style = document.createElement('style');</td></tr><tr><td class="line-number" value="466"></td><td class="line-content">            style.setAttribute('type', 'text/css');</td></tr><tr><td class="line-number" value="467"></td><td class="line-content">            style.setAttribute('data-vite-dev-id', id);</td></tr><tr><td class="line-number" value="468"></td><td class="line-content">            style.textContent = content;</td></tr><tr><td class="line-number" value="469"></td><td class="line-content">            document.head.appendChild(style);</td></tr><tr><td class="line-number" value="470"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="471"></td><td class="line-content">        else {</td></tr><tr><td class="line-number" value="472"></td><td class="line-content">            style.textContent = content;</td></tr><tr><td class="line-number" value="473"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="474"></td><td class="line-content">    }</td></tr><tr><td class="line-number" value="475"></td><td class="line-content">    sheetsMap.set(id, style);</td></tr><tr><td class="line-number" value="476"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="477"></td><td class="line-content">function removeStyle(id) {</td></tr><tr><td class="line-number" value="478"></td><td class="line-content">    const style = sheetsMap.get(id);</td></tr><tr><td class="line-number" value="479"></td><td class="line-content">    if (style) {</td></tr><tr><td class="line-number" value="480"></td><td class="line-content">        if (style instanceof CSSStyleSheet) {</td></tr><tr><td class="line-number" value="481"></td><td class="line-content">            // @ts-expect-error: using experimental API</td></tr><tr><td class="line-number" value="482"></td><td class="line-content">            document.adoptedStyleSheets = document.adoptedStyleSheets.filter((s) =&gt; s !== style);</td></tr><tr><td class="line-number" value="483"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="484"></td><td class="line-content">        else {</td></tr><tr><td class="line-number" value="485"></td><td class="line-content">            document.head.removeChild(style);</td></tr><tr><td class="line-number" value="486"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="487"></td><td class="line-content">        sheetsMap.delete(id);</td></tr><tr><td class="line-number" value="488"></td><td class="line-content">    }</td></tr><tr><td class="line-number" value="489"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="490"></td><td class="line-content">async function fetchUpdate({ path, acceptedPath, timestamp, explicitImportRequired }) {</td></tr><tr><td class="line-number" value="491"></td><td class="line-content">    const mod = hotModulesMap.get(path);</td></tr><tr><td class="line-number" value="492"></td><td class="line-content">    if (!mod) {</td></tr><tr><td class="line-number" value="493"></td><td class="line-content">        // In a code-splitting project,</td></tr><tr><td class="line-number" value="494"></td><td class="line-content">        // it is common that the hot-updating module is not loaded yet.</td></tr><tr><td class="line-number" value="495"></td><td class="line-content">        // https://github.com/vitejs/vite/issues/721</td></tr><tr><td class="line-number" value="496"></td><td class="line-content">        return;</td></tr><tr><td class="line-number" value="497"></td><td class="line-content">    }</td></tr><tr><td class="line-number" value="498"></td><td class="line-content">    const moduleMap = new Map();</td></tr><tr><td class="line-number" value="499"></td><td class="line-content">    const isSelfUpdate = path === acceptedPath;</td></tr><tr><td class="line-number" value="500"></td><td class="line-content">    // determine the qualified callbacks before we re-import the modules</td></tr><tr><td class="line-number" value="501"></td><td class="line-content">    const qualifiedCallbacks = mod.callbacks.filter(({ deps }) =&gt; deps.includes(acceptedPath));</td></tr><tr><td class="line-number" value="502"></td><td class="line-content">    if (isSelfUpdate || qualifiedCallbacks.length &gt; 0) {</td></tr><tr><td class="line-number" value="503"></td><td class="line-content">        const dep = acceptedPath;</td></tr><tr><td class="line-number" value="504"></td><td class="line-content">        const disposer = disposeMap.get(dep);</td></tr><tr><td class="line-number" value="505"></td><td class="line-content">        if (disposer)</td></tr><tr><td class="line-number" value="506"></td><td class="line-content">            await disposer(dataMap.get(dep));</td></tr><tr><td class="line-number" value="507"></td><td class="line-content">        const [path, query] = dep.split(`?`);</td></tr><tr><td class="line-number" value="508"></td><td class="line-content">        try {</td></tr><tr><td class="line-number" value="509"></td><td class="line-content">            const newMod = await import(</td></tr><tr><td class="line-number" value="510"></td><td class="line-content">            /* @vite-ignore */</td></tr><tr><td class="line-number" value="511"></td><td class="line-content">            base +</td></tr><tr><td class="line-number" value="512"></td><td class="line-content">                path.slice(1) +</td></tr><tr><td class="line-number" value="513"></td><td class="line-content">                `?${explicitImportRequired ? 'import&amp;' : ''}t=${timestamp}${query ? `&amp;${query}` : ''}`);</td></tr><tr><td class="line-number" value="514"></td><td class="line-content">            moduleMap.set(dep, newMod);</td></tr><tr><td class="line-number" value="515"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="516"></td><td class="line-content">        catch (e) {</td></tr><tr><td class="line-number" value="517"></td><td class="line-content">            warnFailedFetch(e, dep);</td></tr><tr><td class="line-number" value="518"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="519"></td><td class="line-content">    }</td></tr><tr><td class="line-number" value="520"></td><td class="line-content">    return () =&gt; {</td></tr><tr><td class="line-number" value="521"></td><td class="line-content">        for (const { deps, fn } of qualifiedCallbacks) {</td></tr><tr><td class="line-number" value="522"></td><td class="line-content">            fn(deps.map((dep) =&gt; moduleMap.get(dep)));</td></tr><tr><td class="line-number" value="523"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="524"></td><td class="line-content">        const loggedPath = isSelfUpdate ? path : `${acceptedPath} via ${path}`;</td></tr><tr><td class="line-number" value="525"></td><td class="line-content">        console.debug(`[vite] hot updated: ${loggedPath}`);</td></tr><tr><td class="line-number" value="526"></td><td class="line-content">    };</td></tr><tr><td class="line-number" value="527"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="528"></td><td class="line-content">function sendMessageBuffer() {</td></tr><tr><td class="line-number" value="529"></td><td class="line-content">    if (socket.readyState === 1) {</td></tr><tr><td class="line-number" value="530"></td><td class="line-content">        messageBuffer.forEach((msg) =&gt; socket.send(msg));</td></tr><tr><td class="line-number" value="531"></td><td class="line-content">        messageBuffer.length = 0;</td></tr><tr><td class="line-number" value="532"></td><td class="line-content">    }</td></tr><tr><td class="line-number" value="533"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="534"></td><td class="line-content">const hotModulesMap = new Map();</td></tr><tr><td class="line-number" value="535"></td><td class="line-content">const disposeMap = new Map();</td></tr><tr><td class="line-number" value="536"></td><td class="line-content">const pruneMap = new Map();</td></tr><tr><td class="line-number" value="537"></td><td class="line-content">const dataMap = new Map();</td></tr><tr><td class="line-number" value="538"></td><td class="line-content">const customListenersMap = new Map();</td></tr><tr><td class="line-number" value="539"></td><td class="line-content">const ctxToListenersMap = new Map();</td></tr><tr><td class="line-number" value="540"></td><td class="line-content">function createHotContext(ownerPath) {</td></tr><tr><td class="line-number" value="541"></td><td class="line-content">    if (!dataMap.has(ownerPath)) {</td></tr><tr><td class="line-number" value="542"></td><td class="line-content">        dataMap.set(ownerPath, {});</td></tr><tr><td class="line-number" value="543"></td><td class="line-content">    }</td></tr><tr><td class="line-number" value="544"></td><td class="line-content">    // when a file is hot updated, a new context is created</td></tr><tr><td class="line-number" value="545"></td><td class="line-content">    // clear its stale callbacks</td></tr><tr><td class="line-number" value="546"></td><td class="line-content">    const mod = hotModulesMap.get(ownerPath);</td></tr><tr><td class="line-number" value="547"></td><td class="line-content">    if (mod) {</td></tr><tr><td class="line-number" value="548"></td><td class="line-content">        mod.callbacks = [];</td></tr><tr><td class="line-number" value="549"></td><td class="line-content">    }</td></tr><tr><td class="line-number" value="550"></td><td class="line-content">    // clear stale custom event listeners</td></tr><tr><td class="line-number" value="551"></td><td class="line-content">    const staleListeners = ctxToListenersMap.get(ownerPath);</td></tr><tr><td class="line-number" value="552"></td><td class="line-content">    if (staleListeners) {</td></tr><tr><td class="line-number" value="553"></td><td class="line-content">        for (const [event, staleFns] of staleListeners) {</td></tr><tr><td class="line-number" value="554"></td><td class="line-content">            const listeners = customListenersMap.get(event);</td></tr><tr><td class="line-number" value="555"></td><td class="line-content">            if (listeners) {</td></tr><tr><td class="line-number" value="556"></td><td class="line-content">                customListenersMap.set(event, listeners.filter((l) =&gt; !staleFns.includes(l)));</td></tr><tr><td class="line-number" value="557"></td><td class="line-content">            }</td></tr><tr><td class="line-number" value="558"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="559"></td><td class="line-content">    }</td></tr><tr><td class="line-number" value="560"></td><td class="line-content">    const newListeners = new Map();</td></tr><tr><td class="line-number" value="561"></td><td class="line-content">    ctxToListenersMap.set(ownerPath, newListeners);</td></tr><tr><td class="line-number" value="562"></td><td class="line-content">    function acceptDeps(deps, callback = () =&gt; { }) {</td></tr><tr><td class="line-number" value="563"></td><td class="line-content">        const mod = hotModulesMap.get(ownerPath) || {</td></tr><tr><td class="line-number" value="564"></td><td class="line-content">            id: ownerPath,</td></tr><tr><td class="line-number" value="565"></td><td class="line-content">            callbacks: []</td></tr><tr><td class="line-number" value="566"></td><td class="line-content">        };</td></tr><tr><td class="line-number" value="567"></td><td class="line-content">        mod.callbacks.push({</td></tr><tr><td class="line-number" value="568"></td><td class="line-content">            deps,</td></tr><tr><td class="line-number" value="569"></td><td class="line-content">            fn: callback</td></tr><tr><td class="line-number" value="570"></td><td class="line-content">        });</td></tr><tr><td class="line-number" value="571"></td><td class="line-content">        hotModulesMap.set(ownerPath, mod);</td></tr><tr><td class="line-number" value="572"></td><td class="line-content">    }</td></tr><tr><td class="line-number" value="573"></td><td class="line-content">    const hot = {</td></tr><tr><td class="line-number" value="574"></td><td class="line-content">        get data() {</td></tr><tr><td class="line-number" value="575"></td><td class="line-content">            return dataMap.get(ownerPath);</td></tr><tr><td class="line-number" value="576"></td><td class="line-content">        },</td></tr><tr><td class="line-number" value="577"></td><td class="line-content">        accept(deps, callback) {</td></tr><tr><td class="line-number" value="578"></td><td class="line-content">            if (typeof deps === 'function' || !deps) {</td></tr><tr><td class="line-number" value="579"></td><td class="line-content">                // self-accept: hot.accept(() =&gt; {})</td></tr><tr><td class="line-number" value="580"></td><td class="line-content">                acceptDeps([ownerPath], ([mod]) =&gt; deps &amp;&amp; deps(mod));</td></tr><tr><td class="line-number" value="581"></td><td class="line-content">            }</td></tr><tr><td class="line-number" value="582"></td><td class="line-content">            else if (typeof deps === 'string') {</td></tr><tr><td class="line-number" value="583"></td><td class="line-content">                // explicit deps</td></tr><tr><td class="line-number" value="584"></td><td class="line-content">                acceptDeps([deps], ([mod]) =&gt; callback &amp;&amp; callback(mod));</td></tr><tr><td class="line-number" value="585"></td><td class="line-content">            }</td></tr><tr><td class="line-number" value="586"></td><td class="line-content">            else if (Array.isArray(deps)) {</td></tr><tr><td class="line-number" value="587"></td><td class="line-content">                acceptDeps(deps, callback);</td></tr><tr><td class="line-number" value="588"></td><td class="line-content">            }</td></tr><tr><td class="line-number" value="589"></td><td class="line-content">            else {</td></tr><tr><td class="line-number" value="590"></td><td class="line-content">                throw new Error(`invalid hot.accept() usage.`);</td></tr><tr><td class="line-number" value="591"></td><td class="line-content">            }</td></tr><tr><td class="line-number" value="592"></td><td class="line-content">        },</td></tr><tr><td class="line-number" value="593"></td><td class="line-content">        // export names (first arg) are irrelevant on the client side, they're</td></tr><tr><td class="line-number" value="594"></td><td class="line-content">        // extracted in the server for propagation</td></tr><tr><td class="line-number" value="595"></td><td class="line-content">        acceptExports(_, callback) {</td></tr><tr><td class="line-number" value="596"></td><td class="line-content">            acceptDeps([ownerPath], callback &amp;&amp; (([mod]) =&gt; callback(mod)));</td></tr><tr><td class="line-number" value="597"></td><td class="line-content">        },</td></tr><tr><td class="line-number" value="598"></td><td class="line-content">        dispose(cb) {</td></tr><tr><td class="line-number" value="599"></td><td class="line-content">            disposeMap.set(ownerPath, cb);</td></tr><tr><td class="line-number" value="600"></td><td class="line-content">        },</td></tr><tr><td class="line-number" value="601"></td><td class="line-content">        // @ts-expect-error untyped</td></tr><tr><td class="line-number" value="602"></td><td class="line-content">        prune(cb) {</td></tr><tr><td class="line-number" value="603"></td><td class="line-content">            pruneMap.set(ownerPath, cb);</td></tr><tr><td class="line-number" value="604"></td><td class="line-content">        },</td></tr><tr><td class="line-number" value="605"></td><td class="line-content">        // TODO</td></tr><tr><td class="line-number" value="606"></td><td class="line-content">        // eslint-disable-next-line @typescript-eslint/no-empty-function</td></tr><tr><td class="line-number" value="607"></td><td class="line-content">        decline() { },</td></tr><tr><td class="line-number" value="608"></td><td class="line-content">        // tell the server to re-perform hmr propagation from this module as root</td></tr><tr><td class="line-number" value="609"></td><td class="line-content">        invalidate() {</td></tr><tr><td class="line-number" value="610"></td><td class="line-content">            notifyListeners('vite:invalidate', { path: ownerPath });</td></tr><tr><td class="line-number" value="611"></td><td class="line-content">            this.send('vite:invalidate', { path: ownerPath });</td></tr><tr><td class="line-number" value="612"></td><td class="line-content">        },</td></tr><tr><td class="line-number" value="613"></td><td class="line-content">        // custom events</td></tr><tr><td class="line-number" value="614"></td><td class="line-content">        on(event, cb) {</td></tr><tr><td class="line-number" value="615"></td><td class="line-content">            const addToMap = (map) =&gt; {</td></tr><tr><td class="line-number" value="616"></td><td class="line-content">                const existing = map.get(event) || [];</td></tr><tr><td class="line-number" value="617"></td><td class="line-content">                existing.push(cb);</td></tr><tr><td class="line-number" value="618"></td><td class="line-content">                map.set(event, existing);</td></tr><tr><td class="line-number" value="619"></td><td class="line-content">            };</td></tr><tr><td class="line-number" value="620"></td><td class="line-content">            addToMap(customListenersMap);</td></tr><tr><td class="line-number" value="621"></td><td class="line-content">            addToMap(newListeners);</td></tr><tr><td class="line-number" value="622"></td><td class="line-content">        },</td></tr><tr><td class="line-number" value="623"></td><td class="line-content">        send(event, data) {</td></tr><tr><td class="line-number" value="624"></td><td class="line-content">            messageBuffer.push(JSON.stringify({ type: 'custom', event, data }));</td></tr><tr><td class="line-number" value="625"></td><td class="line-content">            sendMessageBuffer();</td></tr><tr><td class="line-number" value="626"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="627"></td><td class="line-content">    };</td></tr><tr><td class="line-number" value="628"></td><td class="line-content">    return hot;</td></tr><tr><td class="line-number" value="629"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="630"></td><td class="line-content">/**</td></tr><tr><td class="line-number" value="631"></td><td class="line-content"> * urls here are dynamic import() urls that couldn't be statically analyzed</td></tr><tr><td class="line-number" value="632"></td><td class="line-content"> */</td></tr><tr><td class="line-number" value="633"></td><td class="line-content">function injectQuery(url, queryToInject) {</td></tr><tr><td class="line-number" value="634"></td><td class="line-content">    // skip urls that won't be handled by vite</td></tr><tr><td class="line-number" value="635"></td><td class="line-content">    if (!url.startsWith('.') &amp;&amp; !url.startsWith('/')) {</td></tr><tr><td class="line-number" value="636"></td><td class="line-content">        return url;</td></tr><tr><td class="line-number" value="637"></td><td class="line-content">    }</td></tr><tr><td class="line-number" value="638"></td><td class="line-content">    // can't use pathname from URL since it may be relative like ../</td></tr><tr><td class="line-number" value="639"></td><td class="line-content">    const pathname = url.replace(/#.*$/, '').replace(/\?.*$/, '');</td></tr><tr><td class="line-number" value="640"></td><td class="line-content">    const { search, hash } = new URL(url, 'http://vitejs.dev');</td></tr><tr><td class="line-number" value="641"></td><td class="line-content">    return `${pathname}?${queryToInject}${search ? `&amp;` + search.slice(1) : ''}${hash || ''}`;</td></tr><tr><td class="line-number" value="642"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="643"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="644"></td><td class="line-content">export { ErrorOverlay, createHotContext, injectQuery, removeStyle, updateStyle };</td></tr><tr><td class="line-number" value="645"></td><td class="line-content">                                   </td></tr><tr><td class="line-number" value="646"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="647"></td><td class="line-content">//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2xpZW50Lm1qcyIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2NsaWVudC9vdmVybGF5LnRzIiwiLi4vLi4vc3JjL2NsaWVudC9jbGllbnQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBFcnJvclBheWxvYWQgfSBmcm9tICd0eXBlcy9obXJQYXlsb2FkJ1xuXG4vLyBzZXQgOmhvc3Qgc3R5bGVzIHRvIG1ha2UgcGxheXdyaWdodCBkZXRlY3QgdGhlIGVsZW1lbnQgYXMgdmlzaWJsZVxuY29uc3QgdGVtcGxhdGUgPSAvKmh0bWwqLyBgXG48c3R5bGU+XG46aG9zdCB7XG4gIHBvc2l0aW9uOiBmaXhlZDtcbiAgdG9wOiAwO1xuICBsZWZ0OiAwO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xuICB6LWluZGV4OiA5OTk5OTtcbiAgLS1tb25vc3BhY2U6ICdTRk1vbm8tUmVndWxhcicsIENvbnNvbGFzLFxuICAnTGliZXJhdGlvbiBNb25vJywgTWVubG8sIENvdXJpZXIsIG1vbm9zcGFjZTtcbiAgLS1yZWQ6ICNmZjU1NTU7XG4gIC0teWVsbG93OiAjZTJhYTUzO1xuICAtLXB1cnBsZTogI2NmYTRmZjtcbiAgLS1jeWFuOiAjMmRkOWRhO1xuICAtLWRpbTogI2M5YzljOTtcblxuICAtLXdpbmRvdy1iYWNrZ3JvdW5kOiAjMTgxODE4O1xuICAtLXdpbmRvdy1jb2xvcjogI2Q4ZDhkODtcbn1cblxuLmJhY2tkcm9wIHtcbiAgcG9zaXRpb246IGZpeGVkO1xuICB6LWluZGV4OiA5OTk5OTtcbiAgdG9wOiAwO1xuICBsZWZ0OiAwO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xuICBvdmVyZmxvdy15OiBzY3JvbGw7XG4gIG1hcmdpbjogMDtcbiAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjY2KTtcbn1cblxuLndpbmRvdyB7XG4gIGZvbnQtZmFtaWx5OiB2YXIoLS1tb25vc3BhY2UpO1xuICBsaW5lLWhlaWdodDogMS41O1xuICB3aWR0aDogODAwcHg7XG4gIGNvbG9yOiB2YXIoLS13aW5kb3ctY29sb3IpO1xuICBtYXJnaW46IDMwcHggYXV0bztcbiAgcGFkZGluZzogMjVweCA0MHB4O1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIGJhY2tncm91bmQ6IHZhcigtLXdpbmRvdy1iYWNrZ3JvdW5kKTtcbiAgYm9yZGVyLXJhZGl1czogNnB4IDZweCA4cHggOHB4O1xuICBib3gtc2hhZG93OiAwIDE5cHggMzhweCByZ2JhKDAsMCwwLDAuMzApLCAwIDE1cHggMTJweCByZ2JhKDAsMCwwLDAuMjIpO1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICBib3JkZXItdG9wOiA4cHggc29saWQgdmFyKC0tcmVkKTtcbiAgZGlyZWN0aW9uOiBsdHI7XG4gIHRleHQtYWxpZ246IGxlZnQ7XG59XG5cbnByZSB7XG4gIGZvbnQtZmFtaWx5OiB2YXIoLS1tb25vc3BhY2UpO1xuICBmb250LXNpemU6IDE2cHg7XG4gIG1hcmdpbi10b3A6IDA7XG4gIG1hcmdpbi1ib3R0b206IDFlbTtcbiAgb3ZlcmZsb3cteDogc2Nyb2xsO1xuICBzY3JvbGxiYXItd2lkdGg6IG5vbmU7XG59XG5cbnByZTo6LXdlYmtpdC1zY3JvbGxiYXIge1xuICBkaXNwbGF5OiBub25lO1xufVxuXG4ubWVzc2FnZSB7XG4gIGxpbmUtaGVpZ2h0OiAxLjM7XG4gIGZvbnQtd2VpZ2h0OiA2MDA7XG4gIHdoaXRlLXNwYWNlOiBwcmUtd3JhcDtcbn1cblxuLm1lc3NhZ2UtYm9keSB7XG4gIGNvbG9yOiB2YXIoLS1yZWQpO1xufVxuXG4ucGx1Z2luIHtcbiAgY29sb3I6IHZhcigtLXB1cnBsZSk7XG59XG5cbi5maWxlIHtcbiAgY29sb3I6IHZhcigtLWN5YW4pO1xuICBtYXJnaW4tYm90dG9tOiAwO1xuICB3aGl0ZS1zcGFjZTogcHJlLXdyYXA7XG4gIHdvcmQtYnJlYWs6IGJyZWFrLWFsbDtcbn1cblxuLmZyYW1lIHtcbiAgY29sb3I6IHZhcigtLXllbGxvdyk7XG59XG5cbi5zdGFjayB7XG4gIGZvbnQtc2l6ZTogMTNweDtcbiAgY29sb3I6IHZhcigtLWRpbSk7XG59XG5cbi50aXAge1xuICBmb250LXNpemU6IDEzcHg7XG4gIGNvbG9yOiAjOTk5O1xuICBib3JkZXItdG9wOiAxcHggZG90dGVkICM5OTk7XG4gIHBhZGRpbmctdG9wOiAxM3B4O1xufVxuXG5jb2RlIHtcbiAgZm9udC1zaXplOiAxM3B4O1xuICBmb250LWZhbWlseTogdmFyKC0tbW9ub3NwYWNlKTtcbiAgY29sb3I6IHZhcigtLXllbGxvdyk7XG59XG5cbi5maWxlLWxpbmsge1xuICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcbiAgY3Vyc29yOiBwb2ludGVyO1xufVxuPC9zdHlsZT5cbjxkaXYgY2xhc3M9XCJiYWNrZHJvcFwiIHBhcnQ9XCJiYWNrZHJvcFwiPlxuICA8ZGl2IGNsYXNzPVwid2luZG93XCIgcGFydD1cIndpbmRvd1wiPlxuICAgIDxwcmUgY2xhc3M9XCJtZXNzYWdlXCIgcGFydD1cIm1lc3NhZ2VcIj48c3BhbiBjbGFzcz1cInBsdWdpblwiPjwvc3Bhbj48c3BhbiBjbGFzcz1cIm1lc3NhZ2UtYm9keVwiPjwvc3Bhbj48L3ByZT5cbiAgICA8cHJlIGNsYXNzPVwiZmlsZVwiIHBhcnQ9XCJmaWxlXCI+PC9wcmU+XG4gICAgPHByZSBjbGFzcz1cImZyYW1lXCIgcGFydD1cImZyYW1lXCI+PC9wcmU+XG4gICAgPHByZSBjbGFzcz1cInN0YWNrXCIgcGFydD1cInN0YWNrXCI+PC9wcmU+XG4gICAgPGRpdiBjbGFzcz1cInRpcFwiIHBhcnQ9XCJ0aXBcIj5cbiAgICAgIENsaWNrIG91dHNpZGUgb3IgZml4IHRoZSBjb2RlIHRvIGRpc21pc3MuPGJyPlxuICAgICAgWW91IGNhbiBhbHNvIGRpc2FibGUgdGhpcyBvdmVybGF5IGJ5IHNldHRpbmdcbiAgICAgIDxjb2RlPnNlcnZlci5obXIub3ZlcmxheTwvY29kZT4gdG8gPGNvZGU+ZmFsc2U8L2NvZGU+IGluIDxjb2RlPnZpdGUuY29uZmlnLmpzLjwvY29kZT5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG48L2Rpdj5cbmBcblxuY29uc3QgZmlsZVJFID0gLyg/OlthLXpBLVpdOlxcXFx8XFwvKS4qPzpcXGQrOlxcZCsvZ1xuY29uc3QgY29kZWZyYW1lUkUgPSAvXig/Oj4/XFxzK1xcZCtcXHMrXFx8Lip8XFxzK1xcfFxccypcXF4uKilcXHI/XFxuL2dtXG5cbi8vIEFsbG93IGBFcnJvck92ZXJsYXlgIHRvIGV4dGVuZCBgSFRNTEVsZW1lbnRgIGV2ZW4gaW4gZW52aXJvbm1lbnRzIHdoZXJlXG4vLyBgSFRNTEVsZW1lbnRgIHdhcyBub3Qgb3JpZ2luYWxseSBkZWZpbmVkLlxuY29uc3QgeyBIVE1MRWxlbWVudCA9IGNsYXNzIHt9IGFzIHR5cGVvZiBnbG9iYWxUaGlzLkhUTUxFbGVtZW50IH0gPSBnbG9iYWxUaGlzXG5leHBvcnQgY2xhc3MgRXJyb3JPdmVybGF5IGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICByb290OiBTaGFkb3dSb290XG5cbiAgY29uc3RydWN0b3IoZXJyOiBFcnJvclBheWxvYWRbJ2VyciddLCBsaW5rcyA9IHRydWUpIHtcbiAgICBzdXBlcigpXG4gICAgdGhpcy5yb290ID0gdGhpcy5hdHRhY2hTaGFkb3coeyBtb2RlOiAnb3BlbicgfSlcbiAgICB0aGlzLnJvb3QuaW5uZXJIVE1MID0gdGVtcGxhdGVcblxuICAgIGNvZGVmcmFtZVJFLmxhc3RJbmRleCA9IDBcbiAgICBjb25zdCBoYXNGcmFtZSA9IGVyci5mcmFtZSAmJiBjb2RlZnJhbWVSRS50ZXN0KGVyci5mcmFtZSlcbiAgICBjb25zdCBtZXNzYWdlID0gaGFzRnJhbWVcbiAgICAgID8gZXJyLm1lc3NhZ2UucmVwbGFjZShjb2RlZnJhbWVSRSwgJycpXG4gICAgICA6IGVyci5tZXNzYWdlXG4gICAgaWYgKGVyci5wbHVnaW4pIHtcbiAgICAgIHRoaXMudGV4dCgnLnBsdWdpbicsIGBbcGx1Z2luOiR7ZXJyLnBsdWdpbn1dIGApXG4gICAgfVxuICAgIHRoaXMudGV4dCgnLm1lc3NhZ2UtYm9keScsIG1lc3NhZ2UudHJpbSgpKVxuXG4gICAgY29uc3QgW2ZpbGVdID0gKGVyci5sb2M/LmZpbGUgfHwgZXJyLmlkIHx8ICd1bmtub3duIGZpbGUnKS5zcGxpdChgP2ApXG4gICAgaWYgKGVyci5sb2MpIHtcbiAgICAgIHRoaXMudGV4dCgnLmZpbGUnLCBgJHtmaWxlfToke2Vyci5sb2MubGluZX06JHtlcnIubG9jLmNvbHVtbn1gLCBsaW5rcylcbiAgICB9IGVsc2UgaWYgKGVyci5pZCkge1xuICAgICAgdGhpcy50ZXh0KCcuZmlsZScsIGZpbGUpXG4gICAgfVxuXG4gICAgaWYgKGhhc0ZyYW1lKSB7XG4gICAgICB0aGlzLnRleHQoJy5mcmFtZScsIGVyci5mcmFtZSEudHJpbSgpKVxuICAgIH1cbiAgICB0aGlzLnRleHQoJy5zdGFjaycsIGVyci5zdGFjaywgbGlua3MpXG5cbiAgICB0aGlzLnJvb3QucXVlcnlTZWxlY3RvcignLndpbmRvdycpIS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpXG4gICAgfSlcbiAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy5jbG9zZSgpXG4gICAgfSlcbiAgfVxuXG4gIHRleHQoc2VsZWN0b3I6IHN0cmluZywgdGV4dDogc3RyaW5nLCBsaW5rRmlsZXMgPSBmYWxzZSk6IHZvaWQge1xuICAgIGNvbnN0IGVsID0gdGhpcy5yb290LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpIVxuICAgIGlmICghbGlua0ZpbGVzKSB7XG4gICAgICBlbC50ZXh0Q29udGVudCA9IHRleHRcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IGN1ckluZGV4ID0gMFxuICAgICAgbGV0IG1hdGNoOiBSZWdFeHBFeGVjQXJyYXkgfCBudWxsXG4gICAgICBmaWxlUkUubGFzdEluZGV4ID0gMFxuICAgICAgd2hpbGUgKChtYXRjaCA9IGZpbGVSRS5leGVjKHRleHQpKSkge1xuICAgICAgICBjb25zdCB7IDA6IGZpbGUsIGluZGV4IH0gPSBtYXRjaFxuICAgICAgICBpZiAoaW5kZXggIT0gbnVsbCkge1xuICAgICAgICAgIGNvbnN0IGZyYWcgPSB0ZXh0LnNsaWNlKGN1ckluZGV4LCBpbmRleClcbiAgICAgICAgICBlbC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShmcmFnKSlcbiAgICAgICAgICBjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpXG4gICAgICAgICAgbGluay50ZXh0Q29udGVudCA9IGZpbGVcbiAgICAgICAgICBsaW5rLmNsYXNzTmFtZSA9ICdmaWxlLWxpbmsnXG4gICAgICAgICAgbGluay5vbmNsaWNrID0gKCkgPT4ge1xuICAgICAgICAgICAgZmV0Y2goJy9fX29wZW4taW4tZWRpdG9yP2ZpbGU9JyArIGVuY29kZVVSSUNvbXBvbmVudChmaWxlKSlcbiAgICAgICAgICB9XG4gICAgICAgICAgZWwuYXBwZW5kQ2hpbGQobGluaylcbiAgICAgICAgICBjdXJJbmRleCArPSBmcmFnLmxlbmd0aCArIGZpbGUubGVuZ3RoXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBjbG9zZSgpOiB2b2lkIHtcbiAgICB0aGlzLnBhcmVudE5vZGU/LnJlbW92ZUNoaWxkKHRoaXMpXG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IG92ZXJsYXlJZCA9ICd2aXRlLWVycm9yLW92ZXJsYXknXG5jb25zdCB7IGN1c3RvbUVsZW1lbnRzIH0gPSBnbG9iYWxUaGlzIC8vIEVuc3VyZSBgY3VzdG9tRWxlbWVudHNgIGlzIGRlZmluZWQgYmVmb3JlIHRoZSBuZXh0IGxpbmUuXG5pZiAoY3VzdG9tRWxlbWVudHMgJiYgIWN1c3RvbUVsZW1lbnRzLmdldChvdmVybGF5SWQpKSB7XG4gIGN1c3RvbUVsZW1lbnRzLmRlZmluZShvdmVybGF5SWQsIEVycm9yT3ZlcmxheSlcbn1cbiIsImltcG9ydCB0eXBlIHsgRXJyb3JQYXlsb2FkLCBITVJQYXlsb2FkLCBVcGRhdGUgfSBmcm9tICd0eXBlcy9obXJQYXlsb2FkJ1xuaW1wb3J0IHR5cGUgeyBNb2R1bGVOYW1lc3BhY2UsIFZpdGVIb3RDb250ZXh0IH0gZnJvbSAndHlwZXMvaG90J1xuaW1wb3J0IHR5cGUgeyBJbmZlckN1c3RvbUV2ZW50UGF5bG9hZCB9IGZyb20gJ3R5cGVzL2N1c3RvbUV2ZW50J1xuaW1wb3J0IHsgRXJyb3JPdmVybGF5LCBvdmVybGF5SWQgfSBmcm9tICcuL292ZXJsYXknXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm9kZS9uby1taXNzaW5nLWltcG9ydFxuaW1wb3J0ICdAdml0ZS9lbnYnXG5cbi8vIGluamVjdGVkIGJ5IHRoZSBobXIgcGx1Z2luIHdoZW4gc2VydmVkXG5kZWNsYXJlIGNvbnN0IF9fQkFTRV9fOiBzdHJpbmdcbmRlY2xhcmUgY29uc3QgX19TRVJWRVJfSE9TVF9fOiBzdHJpbmdcbmRlY2xhcmUgY29uc3QgX19ITVJfUFJPVE9DT0xfXzogc3RyaW5nIHwgbnVsbFxuZGVjbGFyZSBjb25zdCBfX0hNUl9IT1NUTkFNRV9fOiBzdHJpbmcgfCBudWxsXG5kZWNsYXJlIGNvbnN0IF9fSE1SX1BPUlRfXzogbnVtYmVyIHwgbnVsbFxuZGVjbGFyZSBjb25zdCBfX0hNUl9ESVJFQ1RfVEFSR0VUX186IHN0cmluZ1xuZGVjbGFyZSBjb25zdCBfX0hNUl9CQVNFX186IHN0cmluZ1xuZGVjbGFyZSBjb25zdCBfX0hNUl9USU1FT1VUX186IG51bWJlclxuZGVjbGFyZSBjb25zdCBfX0hNUl9FTkFCTEVfT1ZFUkxBWV9fOiBib29sZWFuXG5cbmNvbnNvbGUuZGVidWcoJ1t2aXRlXSBjb25uZWN0aW5nLi4uJylcblxuY29uc3QgaW1wb3J0TWV0YVVybCA9IG5ldyBVUkwoaW1wb3J0Lm1ldGEudXJsKVxuXG4vLyB1c2Ugc2VydmVyIGNvbmZpZ3VyYXRpb24sIHRoZW4gZmFsbGJhY2sgdG8gaW5mZXJlbmNlXG5jb25zdCBzZXJ2ZXJIb3N0ID0gX19TRVJWRVJfSE9TVF9fXG5jb25zdCBzb2NrZXRQcm90b2NvbCA9XG4gIF9fSE1SX1BST1RPQ09MX18gfHwgKGxvY2F0aW9uLnByb3RvY29sID09PSAnaHR0cHM6JyA/ICd3c3MnIDogJ3dzJylcbmNvbnN0IGhtclBvcnQgPSBfX0hNUl9QT1JUX19cbmNvbnN0IHNvY2tldEhvc3QgPSBgJHtfX0hNUl9IT1NUTkFNRV9fIHx8IGltcG9ydE1ldGFVcmwuaG9zdG5hbWV9OiR7XG4gIGhtclBvcnQgfHwgaW1wb3J0TWV0YVVybC5wb3J0XG59JHtfX0hNUl9CQVNFX199YFxuY29uc3QgZGlyZWN0U29ja2V0SG9zdCA9IF9fSE1SX0RJUkVDVF9UQVJHRVRfX1xuY29uc3QgYmFzZSA9IF9fQkFTRV9fIHx8ICcvJ1xuY29uc3QgbWVzc2FnZUJ1ZmZlcjogc3RyaW5nW10gPSBbXVxuXG5sZXQgc29ja2V0OiBXZWJTb2NrZXRcbnRyeSB7XG4gIGxldCBmYWxsYmFjazogKCgpID0+IHZvaWQpIHwgdW5kZWZpbmVkXG4gIC8vIG9ubHkgdXNlIGZhbGxiYWNrIHdoZW4gcG9ydCBpcyBpbmZlcnJlZCB0byBwcmV2ZW50IGNvbmZ1c2lvblxuICBpZiAoIWhtclBvcnQpIHtcbiAgICBmYWxsYmFjayA9ICgpID0+IHtcbiAgICAgIC8vIGZhbGxiYWNrIHRvIGNvbm5lY3RpbmcgZGlyZWN0bHkgdG8gdGhlIGhtciBzZXJ2ZXJcbiAgICAgIC8vIGZvciBzZXJ2ZXJzIHdoaWNoIGRvZXMgbm90IHN1cHBvcnQgcHJveHlpbmcgd2Vic29ja2V0XG4gICAgICBzb2NrZXQgPSBzZXR1cFdlYlNvY2tldChzb2NrZXRQcm90b2NvbCwgZGlyZWN0U29ja2V0SG9zdCwgKCkgPT4ge1xuICAgICAgICBjb25zdCBjdXJyZW50U2NyaXB0SG9zdFVSTCA9IG5ldyBVUkwoaW1wb3J0Lm1ldGEudXJsKVxuICAgICAgICBjb25zdCBjdXJyZW50U2NyaXB0SG9zdCA9XG4gICAgICAgICAgY3VycmVudFNjcmlwdEhvc3RVUkwuaG9zdCArXG4gICAgICAgICAgY3VycmVudFNjcmlwdEhvc3RVUkwucGF0aG5hbWUucmVwbGFjZSgvQHZpdGVcXC9jbGllbnQkLywgJycpXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgJ1t2aXRlXSBmYWlsZWQgdG8gY29ubmVjdCB0byB3ZWJzb2NrZXQuXFxuJyArXG4gICAgICAgICAgICAneW91ciBjdXJyZW50IHNldHVwOlxcbicgK1xuICAgICAgICAgICAgYCAgKGJyb3dzZXIpICR7Y3VycmVudFNjcmlwdEhvc3R9IDwtLVtIVFRQXS0tPiAke3NlcnZlckhvc3R9IChzZXJ2ZXIpXFxuYCArXG4gICAgICAgICAgICBgICAoYnJvd3NlcikgJHtzb2NrZXRIb3N0fSA8LS1bV2ViU29ja2V0IChmYWlsaW5nKV0tLT4gJHtkaXJlY3RTb2NrZXRIb3N0fSAoc2VydmVyKVxcbmAgK1xuICAgICAgICAgICAgJ0NoZWNrIG91dCB5b3VyIFZpdGUgLyBuZXR3b3JrIGNvbmZpZ3VyYXRpb24gYW5kIGh0dHBzOi8vdml0ZWpzLmRldi9jb25maWcvc2VydmVyLW9wdGlvbnMuaHRtbCNzZXJ2ZXItaG1yIC4nXG4gICAgICAgIClcbiAgICAgIH0pXG4gICAgICBzb2NrZXQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgJ29wZW4nLFxuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgY29uc29sZS5pbmZvKFxuICAgICAgICAgICAgJ1t2aXRlXSBEaXJlY3Qgd2Vic29ja2V0IGNvbm5lY3Rpb24gZmFsbGJhY2suIENoZWNrIG91dCBodHRwczovL3ZpdGVqcy5kZXYvY29uZmlnL3NlcnZlci1vcHRpb25zLmh0bWwjc2VydmVyLWhtciB0byByZW1vdmUgdGhlIHByZXZpb3VzIGNvbm5lY3Rpb24gZXJyb3IuJ1xuICAgICAgICAgIClcbiAgICAgICAgfSxcbiAgICAgICAgeyBvbmNlOiB0cnVlIH1cbiAgICAgIClcbiAgICB9XG4gIH1cblxuICBzb2NrZXQgPSBzZXR1cFdlYlNvY2tldChzb2NrZXRQcm90b2NvbCwgc29ja2V0SG9zdCwgZmFsbGJhY2spXG59IGNhdGNoIChlcnJvcikge1xuICBjb25zb2xlLmVycm9yKGBbdml0ZV0gZmFpbGVkIHRvIGNvbm5lY3QgdG8gd2Vic29ja2V0ICgke2Vycm9yfSkuIGApXG59XG5cbmZ1bmN0aW9uIHNldHVwV2ViU29ja2V0KFxuICBwcm90b2NvbDogc3RyaW5nLFxuICBob3N0QW5kUGF0aDogc3RyaW5nLFxuICBvbkNsb3NlV2l0aG91dE9wZW4/OiAoKSA9PiB2b2lkXG4pIHtcbiAgY29uc3Qgc29ja2V0ID0gbmV3IFdlYlNvY2tldChgJHtwcm90b2NvbH06Ly8ke2hvc3RBbmRQYXRofWAsICd2aXRlLWhtcicpXG4gIGxldCBpc09wZW5lZCA9IGZhbHNlXG5cbiAgc29ja2V0LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgJ29wZW4nLFxuICAgICgpID0+IHtcbiAgICAgIGlzT3BlbmVkID0gdHJ1ZVxuICAgIH0sXG4gICAgeyBvbmNlOiB0cnVlIH1cbiAgKVxuXG4gIC8vIExpc3RlbiBmb3IgbWVzc2FnZXNcbiAgc29ja2V0LmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBhc3luYyAoeyBkYXRhIH0pID0+IHtcbiAgICBoYW5kbGVNZXNzYWdlKEpTT04ucGFyc2UoZGF0YSkpXG4gIH0pXG5cbiAgLy8gcGluZyBzZXJ2ZXJcbiAgc29ja2V0LmFkZEV2ZW50TGlzdGVuZXIoJ2Nsb3NlJywgYXN5bmMgKHsgd2FzQ2xlYW4gfSkgPT4ge1xuICAgIGlmICh3YXNDbGVhbikgcmV0dXJuXG5cbiAgICBpZiAoIWlzT3BlbmVkICYmIG9uQ2xvc2VXaXRob3V0T3Blbikge1xuICAgICAgb25DbG9zZVdpdGhvdXRPcGVuKClcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKGBbdml0ZV0gc2VydmVyIGNvbm5lY3Rpb24gbG9zdC4gcG9sbGluZyBmb3IgcmVzdGFydC4uLmApXG4gICAgYXdhaXQgd2FpdEZvclN1Y2Nlc3NmdWxQaW5nKHByb3RvY29sLCBob3N0QW5kUGF0aClcbiAgICBsb2NhdGlvbi5yZWxvYWQoKVxuICB9KVxuXG4gIHJldHVybiBzb2NrZXRcbn1cblxuZnVuY3Rpb24gd2FybkZhaWxlZEZldGNoKGVycjogRXJyb3IsIHBhdGg6IHN0cmluZyB8IHN0cmluZ1tdKSB7XG4gIGlmICghZXJyLm1lc3NhZ2UubWF0Y2goJ2ZldGNoJykpIHtcbiAgICBjb25zb2xlLmVycm9yKGVycilcbiAgfVxuICBjb25zb2xlLmVycm9yKFxuICAgIGBbaG1yXSBGYWlsZWQgdG8gcmVsb2FkICR7cGF0aH0uIGAgK1xuICAgICAgYFRoaXMgY291bGQgYmUgZHVlIHRvIHN5bnRheCBlcnJvcnMgb3IgaW1wb3J0aW5nIG5vbi1leGlzdGVudCBgICtcbiAgICAgIGBtb2R1bGVzLiAoc2VlIGVycm9ycyBhYm92ZSlgXG4gIClcbn1cblxuZnVuY3Rpb24gY2xlYW5VcmwocGF0aG5hbWU6IHN0cmluZyk6IHN0cmluZyB7XG4gIGNvbnN0IHVybCA9IG5ldyBVUkwocGF0aG5hbWUsIGxvY2F0aW9uLnRvU3RyaW5nKCkpXG4gIHVybC5zZWFyY2hQYXJhbXMuZGVsZXRlKCdkaXJlY3QnKVxuICByZXR1cm4gdXJsLnBhdGhuYW1lICsgdXJsLnNlYXJjaFxufVxuXG5sZXQgaXNGaXJzdFVwZGF0ZSA9IHRydWVcbmNvbnN0IG91dGRhdGVkTGlua1RhZ3MgPSBuZXcgV2Vha1NldDxIVE1MTGlua0VsZW1lbnQ+KClcblxuYXN5bmMgZnVuY3Rpb24gaGFuZGxlTWVzc2FnZShwYXlsb2FkOiBITVJQYXlsb2FkKSB7XG4gIHN3aXRjaCAocGF5bG9hZC50eXBlKSB7XG4gICAgY2FzZSAnY29ubmVjdGVkJzpcbiAgICAgIGNvbnNvbGUuZGVidWcoYFt2aXRlXSBjb25uZWN0ZWQuYClcbiAgICAgIHNlbmRNZXNzYWdlQnVmZmVyKClcbiAgICAgIC8vIHByb3h5KG5naW54LCBkb2NrZXIpIGhtciB3cyBtYXliZSBjYXVzZWQgdGltZW91dCxcbiAgICAgIC8vIHNvIHNlbmQgcGluZyBwYWNrYWdlIGxldCB3cyBrZWVwIGFsaXZlLlxuICAgICAgc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICBpZiAoc29ja2V0LnJlYWR5U3RhdGUgPT09IHNvY2tldC5PUEVOKSB7XG4gICAgICAgICAgc29ja2V0LnNlbmQoJ3tcInR5cGVcIjpcInBpbmdcIn0nKVxuICAgICAgICB9XG4gICAgICB9LCBfX0hNUl9USU1FT1VUX18pXG4gICAgICBicmVha1xuICAgIGNhc2UgJ3VwZGF0ZSc6XG4gICAgICBub3RpZnlMaXN0ZW5lcnMoJ3ZpdGU6YmVmb3JlVXBkYXRlJywgcGF5bG9hZClcbiAgICAgIC8vIGlmIHRoaXMgaXMgdGhlIGZpcnN0IHVwZGF0ZSBhbmQgdGhlcmUncyBhbHJlYWR5IGFuIGVycm9yIG92ZXJsYXksIGl0XG4gICAgICAvLyBtZWFucyB0aGUgcGFnZSBvcGVuZWQgd2l0aCBleGlzdGluZyBzZXJ2ZXIgY29tcGlsZSBlcnJvciBhbmQgdGhlIHdob2xlXG4gICAgICAvLyBtb2R1bGUgc2NyaXB0IGZhaWxlZCB0byBsb2FkIChzaW5jZSBvbmUgb2YgdGhlIG5lc3RlZCBpbXBvcnRzIGlzIDUwMCkuXG4gICAgICAvLyBpbiB0aGlzIGNhc2UgYSBub3JtYWwgdXBkYXRlIHdvbid0IHdvcmsgYW5kIGEgZnVsbCByZWxvYWQgaXMgbmVlZGVkLlxuICAgICAgaWYgKGlzRmlyc3RVcGRhdGUgJiYgaGFzRXJyb3JPdmVybGF5KCkpIHtcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpXG4gICAgICAgIHJldHVyblxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2xlYXJFcnJvck92ZXJsYXkoKVxuICAgICAgICBpc0ZpcnN0VXBkYXRlID0gZmFsc2VcbiAgICAgIH1cbiAgICAgIGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgICBwYXlsb2FkLnVwZGF0ZXMubWFwKGFzeW5jICh1cGRhdGUpOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgICAgICAgICBpZiAodXBkYXRlLnR5cGUgPT09ICdqcy11cGRhdGUnKSB7XG4gICAgICAgICAgICByZXR1cm4gcXVldWVVcGRhdGUoZmV0Y2hVcGRhdGUodXBkYXRlKSlcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBjc3MtdXBkYXRlXG4gICAgICAgICAgLy8gdGhpcyBpcyBvbmx5IHNlbnQgd2hlbiBhIGNzcyBmaWxlIHJlZmVyZW5jZWQgd2l0aCA8bGluaz4gaXMgdXBkYXRlZFxuICAgICAgICAgIGNvbnN0IHsgcGF0aCwgdGltZXN0YW1wIH0gPSB1cGRhdGVcbiAgICAgICAgICBjb25zdCBzZWFyY2hVcmwgPSBjbGVhblVybChwYXRoKVxuICAgICAgICAgIC8vIGNhbid0IHVzZSBxdWVyeVNlbGVjdG9yIHdpdGggYFtocmVmKj1dYCBoZXJlIHNpbmNlIHRoZSBsaW5rIG1heSBiZVxuICAgICAgICAgIC8vIHVzaW5nIHJlbGF0aXZlIHBhdGhzIHNvIHdlIG5lZWQgdG8gdXNlIGxpbmsuaHJlZiB0byBncmFiIHRoZSBmdWxsXG4gICAgICAgICAgLy8gVVJMIGZvciB0aGUgaW5jbHVkZSBjaGVjay5cbiAgICAgICAgICBjb25zdCBlbCA9IEFycmF5LmZyb20oXG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsPEhUTUxMaW5rRWxlbWVudD4oJ2xpbmsnKVxuICAgICAgICAgICkuZmluZChcbiAgICAgICAgICAgIChlKSA9PlxuICAgICAgICAgICAgICAhb3V0ZGF0ZWRMaW5rVGFncy5oYXMoZSkgJiYgY2xlYW5VcmwoZS5ocmVmKS5pbmNsdWRlcyhzZWFyY2hVcmwpXG4gICAgICAgICAgKVxuXG4gICAgICAgICAgaWYgKCFlbCkge1xuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgbmV3UGF0aCA9IGAke2Jhc2V9JHtzZWFyY2hVcmwuc2xpY2UoMSl9JHtcbiAgICAgICAgICAgIHNlYXJjaFVybC5pbmNsdWRlcygnPycpID8gJyYnIDogJz8nXG4gICAgICAgICAgfXQ9JHt0aW1lc3RhbXB9YFxuXG4gICAgICAgICAgLy8gcmF0aGVyIHRoYW4gc3dhcHBpbmcgdGhlIGhyZWYgb24gdGhlIGV4aXN0aW5nIHRhZywgd2Ugd2lsbFxuICAgICAgICAgIC8vIGNyZWF0ZSBhIG5ldyBsaW5rIHRhZy4gT25jZSB0aGUgbmV3IHN0eWxlc2hlZXQgaGFzIGxvYWRlZCB3ZVxuICAgICAgICAgIC8vIHdpbGwgcmVtb3ZlIHRoZSBleGlzdGluZyBsaW5rIHRhZy4gVGhpcyByZW1vdmVzIGEgRmxhc2ggT2ZcbiAgICAgICAgICAvLyBVbnN0eWxlZCBDb250ZW50IHRoYXQgY2FuIG9jY3VyIHdoZW4gc3dhcHBpbmcgb3V0IHRoZSB0YWcgaHJlZlxuICAgICAgICAgIC8vIGRpcmVjdGx5LCBhcyB0aGUgbmV3IHN0eWxlc2hlZXQgaGFzIG5vdCB5ZXQgYmVlbiBsb2FkZWQuXG4gICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBuZXdMaW5rVGFnID0gZWwuY2xvbmVOb2RlKCkgYXMgSFRNTExpbmtFbGVtZW50XG4gICAgICAgICAgICBuZXdMaW5rVGFnLmhyZWYgPSBuZXcgVVJMKG5ld1BhdGgsIGVsLmhyZWYpLmhyZWZcbiAgICAgICAgICAgIGNvbnN0IHJlbW92ZU9sZEVsID0gKCkgPT4ge1xuICAgICAgICAgICAgICBlbC5yZW1vdmUoKVxuICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKGBbdml0ZV0gY3NzIGhvdCB1cGRhdGVkOiAke3NlYXJjaFVybH1gKVxuICAgICAgICAgICAgICByZXNvbHZlKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5ld0xpbmtUYWcuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIHJlbW92ZU9sZEVsKVxuICAgICAgICAgICAgbmV3TGlua1RhZy5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIHJlbW92ZU9sZEVsKVxuICAgICAgICAgICAgb3V0ZGF0ZWRMaW5rVGFncy5hZGQoZWwpXG4gICAgICAgICAgICBlbC5hZnRlcihuZXdMaW5rVGFnKVxuICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgICApXG4gICAgICBub3RpZnlMaXN0ZW5lcnMoJ3ZpdGU6YWZ0ZXJVcGRhdGUnLCBwYXlsb2FkKVxuICAgICAgYnJlYWtcbiAgICBjYXNlICdjdXN0b20nOiB7XG4gICAgICBub3RpZnlMaXN0ZW5lcnMocGF5bG9hZC5ldmVudCwgcGF5bG9hZC5kYXRhKVxuICAgICAgYnJlYWtcbiAgICB9XG4gICAgY2FzZSAnZnVsbC1yZWxvYWQnOlxuICAgICAgbm90aWZ5TGlzdGVuZXJzKCd2aXRlOmJlZm9yZUZ1bGxSZWxvYWQnLCBwYXlsb2FkKVxuICAgICAgaWYgKHBheWxvYWQucGF0aCAmJiBwYXlsb2FkLnBhdGguZW5kc1dpdGgoJy5odG1sJykpIHtcbiAgICAgICAgLy8gaWYgaHRtbCBmaWxlIGlzIGVkaXRlZCwgb25seSByZWxvYWQgdGhlIHBhZ2UgaWYgdGhlIGJyb3dzZXIgaXNcbiAgICAgICAgLy8gY3VycmVudGx5IG9uIHRoYXQgcGFnZS5cbiAgICAgICAgY29uc3QgcGFnZVBhdGggPSBkZWNvZGVVUkkobG9jYXRpb24ucGF0aG5hbWUpXG4gICAgICAgIGNvbnN0IHBheWxvYWRQYXRoID0gYmFzZSArIHBheWxvYWQucGF0aC5zbGljZSgxKVxuICAgICAgICBpZiAoXG4gICAgICAgICAgcGFnZVBhdGggPT09IHBheWxvYWRQYXRoIHx8XG4gICAgICAgICAgcGF5bG9hZC5wYXRoID09PSAnL2luZGV4Lmh0bWwnIHx8XG4gICAgICAgICAgKHBhZ2VQYXRoLmVuZHNXaXRoKCcvJykgJiYgcGFnZVBhdGggKyAnaW5kZXguaHRtbCcgPT09IHBheWxvYWRQYXRoKVxuICAgICAgICApIHtcbiAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKVxuICAgICAgICB9XG4gICAgICAgIHJldHVyblxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbG9jYXRpb24ucmVsb2FkKClcbiAgICAgIH1cbiAgICAgIGJyZWFrXG4gICAgY2FzZSAncHJ1bmUnOlxuICAgICAgbm90aWZ5TGlzdGVuZXJzKCd2aXRlOmJlZm9yZVBydW5lJywgcGF5bG9hZClcbiAgICAgIC8vIEFmdGVyIGFuIEhNUiB1cGRhdGUsIHNvbWUgbW9kdWxlcyBhcmUgbm8gbG9uZ2VyIGltcG9ydGVkIG9uIHRoZSBwYWdlXG4gICAgICAvLyBidXQgdGhleSBtYXkgaGF2ZSBsZWZ0IGJlaGluZCBzaWRlIGVmZmVjdHMgdGhhdCBuZWVkIHRvIGJlIGNsZWFuZWQgdXBcbiAgICAgIC8vICguZS5nIHN0eWxlIGluamVjdGlvbnMpXG4gICAgICAvLyBUT0RPIFRyaWdnZXIgdGhlaXIgZGlzcG9zZSBjYWxsYmFja3MuXG4gICAgICBwYXlsb2FkLnBhdGhzLmZvckVhY2goKHBhdGgpID0+IHtcbiAgICAgICAgY29uc3QgZm4gPSBwcnVuZU1hcC5nZXQocGF0aClcbiAgICAgICAgaWYgKGZuKSB7XG4gICAgICAgICAgZm4oZGF0YU1hcC5nZXQocGF0aCkpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICBicmVha1xuICAgIGNhc2UgJ2Vycm9yJzoge1xuICAgICAgbm90aWZ5TGlzdGVuZXJzKCd2aXRlOmVycm9yJywgcGF5bG9hZClcbiAgICAgIGNvbnN0IGVyciA9IHBheWxvYWQuZXJyXG4gICAgICBpZiAoZW5hYmxlT3ZlcmxheSkge1xuICAgICAgICBjcmVhdGVFcnJvck92ZXJsYXkoZXJyKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBgW3ZpdGVdIEludGVybmFsIFNlcnZlciBFcnJvclxcbiR7ZXJyLm1lc3NhZ2V9XFxuJHtlcnIuc3RhY2t9YFxuICAgICAgICApXG4gICAgICB9XG4gICAgICBicmVha1xuICAgIH1cbiAgICBkZWZhdWx0OiB7XG4gICAgICBjb25zdCBjaGVjazogbmV2ZXIgPSBwYXlsb2FkXG4gICAgICByZXR1cm4gY2hlY2tcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gbm90aWZ5TGlzdGVuZXJzPFQgZXh0ZW5kcyBzdHJpbmc+KFxuICBldmVudDogVCxcbiAgZGF0YTogSW5mZXJDdXN0b21FdmVudFBheWxvYWQ8VD5cbik6IHZvaWRcbmZ1bmN0aW9uIG5vdGlmeUxpc3RlbmVycyhldmVudDogc3RyaW5nLCBkYXRhOiBhbnkpOiB2b2lkIHtcbiAgY29uc3QgY2JzID0gY3VzdG9tTGlzdGVuZXJzTWFwLmdldChldmVudClcbiAgaWYgKGNicykge1xuICAgIGNicy5mb3JFYWNoKChjYikgPT4gY2IoZGF0YSkpXG4gIH1cbn1cblxuY29uc3QgZW5hYmxlT3ZlcmxheSA9IF9fSE1SX0VOQUJMRV9PVkVSTEFZX19cblxuZnVuY3Rpb24gY3JlYXRlRXJyb3JPdmVybGF5KGVycjogRXJyb3JQYXlsb2FkWydlcnInXSkge1xuICBpZiAoIWVuYWJsZU92ZXJsYXkpIHJldHVyblxuICBjbGVhckVycm9yT3ZlcmxheSgpXG4gIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobmV3IEVycm9yT3ZlcmxheShlcnIpKVxufVxuXG5mdW5jdGlvbiBjbGVhckVycm9yT3ZlcmxheSgpIHtcbiAgZG9jdW1lbnRcbiAgICAucXVlcnlTZWxlY3RvckFsbChvdmVybGF5SWQpXG4gICAgLmZvckVhY2goKG4pID0+IChuIGFzIEVycm9yT3ZlcmxheSkuY2xvc2UoKSlcbn1cblxuZnVuY3Rpb24gaGFzRXJyb3JPdmVybGF5KCkge1xuICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChvdmVybGF5SWQpLmxlbmd0aFxufVxuXG5sZXQgcGVuZGluZyA9IGZhbHNlXG5sZXQgcXVldWVkOiBQcm9taXNlPCgoKSA9PiB2b2lkKSB8IHVuZGVmaW5lZD5bXSA9IFtdXG5cbi8qKlxuICogYnVmZmVyIG11bHRpcGxlIGhvdCB1cGRhdGVzIHRyaWdnZXJlZCBieSB0aGUgc2FtZSBzcmMgY2hhbmdlXG4gKiBzbyB0aGF0IHRoZXkgYXJlIGludm9rZWQgaW4gdGhlIHNhbWUgb3JkZXIgdGhleSB3ZXJlIHNlbnQuXG4gKiAob3RoZXJ3aXNlIHRoZSBvcmRlciBtYXkgYmUgaW5jb25zaXN0ZW50IGJlY2F1c2Ugb2YgdGhlIGh0dHAgcmVxdWVzdCByb3VuZCB0cmlwKVxuICovXG5hc3luYyBmdW5jdGlvbiBxdWV1ZVVwZGF0ZShwOiBQcm9taXNlPCgoKSA9PiB2b2lkKSB8IHVuZGVmaW5lZD4pIHtcbiAgcXVldWVkLnB1c2gocClcbiAgaWYgKCFwZW5kaW5nKSB7XG4gICAgcGVuZGluZyA9IHRydWVcbiAgICBhd2FpdCBQcm9taXNlLnJlc29sdmUoKVxuICAgIHBlbmRpbmcgPSBmYWxzZVxuICAgIGNvbnN0IGxvYWRpbmcgPSBbLi4ucXVldWVkXVxuICAgIHF1ZXVlZCA9IFtdXG4gICAgOyhhd2FpdCBQcm9taXNlLmFsbChsb2FkaW5nKSkuZm9yRWFjaCgoZm4pID0+IGZuICYmIGZuKCkpXG4gIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gd2FpdEZvclN1Y2Nlc3NmdWxQaW5nKFxuICBzb2NrZXRQcm90b2NvbDogc3RyaW5nLFxuICBob3N0QW5kUGF0aDogc3RyaW5nLFxuICBtcyA9IDEwMDBcbikge1xuICBjb25zdCBwaW5nSG9zdFByb3RvY29sID0gc29ja2V0UHJvdG9jb2wgPT09ICd3c3MnID8gJ2h0dHBzJyA6ICdodHRwJ1xuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zdGFudC1jb25kaXRpb25cbiAgd2hpbGUgKHRydWUpIHtcbiAgICB0cnkge1xuICAgICAgLy8gQSBmZXRjaCBvbiBhIHdlYnNvY2tldCBVUkwgd2lsbCByZXR1cm4gYSBzdWNjZXNzZnVsIHByb21pc2Ugd2l0aCBzdGF0dXMgNDAwLFxuICAgICAgLy8gYnV0IHdpbGwgcmVqZWN0IGEgbmV0d29ya2luZyBlcnJvci5cbiAgICAgIC8vIFdoZW4gcnVubmluZyBvbiBtaWRkbGV3YXJlIG1vZGUsIGl0IHJldHVybnMgc3RhdHVzIDQyNiwgYW5kIGFuIGNvcnMgZXJyb3IgaGFwcGVucyBpZiBtb2RlIGlzIG5vdCBuby1jb3JzXG4gICAgICBhd2FpdCBmZXRjaChgJHtwaW5nSG9zdFByb3RvY29sfTovLyR7aG9zdEFuZFBhdGh9YCwge1xuICAgICAgICBtb2RlOiAnbm8tY29ycydcbiAgICAgIH0pXG4gICAgICBicmVha1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIHdhaXQgbXMgYmVmb3JlIGF0dGVtcHRpbmcgdG8gcGluZyBhZ2FpblxuICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgbXMpKVxuICAgIH1cbiAgfVxufVxuXG4vLyBodHRwczovL3dpY2cuZ2l0aHViLmlvL2NvbnN0cnVjdC1zdHlsZXNoZWV0c1xuY29uc3Qgc3VwcG9ydHNDb25zdHJ1Y3RlZFNoZWV0ID0gKCgpID0+IHtcbiAgLy8gVE9ETzogcmUtZW5hYmxlIHRoaXMgdHJ5IGJsb2NrIG9uY2UgQ2hyb21lIGZpeGVzIHRoZSBwZXJmb3JtYW5jZSBvZlxuICAvLyBydWxlIGluc2VydGlvbiBpbiByZWFsbHkgYmlnIHN0eWxlc2hlZXRzXG4gIC8vIHRyeSB7XG4gIC8vICAgbmV3IENTU1N0eWxlU2hlZXQoKVxuICAvLyAgIHJldHVybiB0cnVlXG4gIC8vIH0gY2F0Y2ggKGUpIHt9XG4gIHJldHVybiBmYWxzZVxufSkoKVxuXG5jb25zdCBzaGVldHNNYXAgPSBuZXcgTWFwPFxuICBzdHJpbmcsXG4gIEhUTUxTdHlsZUVsZW1lbnQgfCBDU1NTdHlsZVNoZWV0IHwgdW5kZWZpbmVkXG4+KClcblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZVN0eWxlKGlkOiBzdHJpbmcsIGNvbnRlbnQ6IHN0cmluZyk6IHZvaWQge1xuICBsZXQgc3R5bGUgPSBzaGVldHNNYXAuZ2V0KGlkKVxuICBpZiAoc3VwcG9ydHNDb25zdHJ1Y3RlZFNoZWV0ICYmICFjb250ZW50LmluY2x1ZGVzKCdAaW1wb3J0JykpIHtcbiAgICBpZiAoc3R5bGUgJiYgIShzdHlsZSBpbnN0YW5jZW9mIENTU1N0eWxlU2hlZXQpKSB7XG4gICAgICByZW1vdmVTdHlsZShpZClcbiAgICAgIHN0eWxlID0gdW5kZWZpbmVkXG4gICAgfVxuXG4gICAgaWYgKCFzdHlsZSkge1xuICAgICAgc3R5bGUgPSBuZXcgQ1NTU3R5bGVTaGVldCgpXG4gICAgICAvLyBAdHMtZXhwZWN0LWVycm9yOiB1c2luZyBleHBlcmltZW50YWwgQVBJXG4gICAgICBzdHlsZS5yZXBsYWNlU3luYyhjb250ZW50KVxuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvcjogdXNpbmcgZXhwZXJpbWVudGFsIEFQSVxuICAgICAgZG9jdW1lbnQuYWRvcHRlZFN0eWxlU2hlZXRzID0gWy4uLmRvY3VtZW50LmFkb3B0ZWRTdHlsZVNoZWV0cywgc3R5bGVdXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3I6IHVzaW5nIGV4cGVyaW1lbnRhbCBBUElcbiAgICAgIHN0eWxlLnJlcGxhY2VTeW5jKGNvbnRlbnQpXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChzdHlsZSAmJiAhKHN0eWxlIGluc3RhbmNlb2YgSFRNTFN0eWxlRWxlbWVudCkpIHtcbiAgICAgIHJlbW92ZVN0eWxlKGlkKVxuICAgICAgc3R5bGUgPSB1bmRlZmluZWRcbiAgICB9XG5cbiAgICBpZiAoIXN0eWxlKSB7XG4gICAgICBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJylcbiAgICAgIHN0eWxlLnNldEF0dHJpYnV0ZSgndHlwZScsICd0ZXh0L2NzcycpXG4gICAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoJ2RhdGEtdml0ZS1kZXYtaWQnLCBpZClcbiAgICAgIHN0eWxlLnRleHRDb250ZW50ID0gY29udGVudFxuICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZSlcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGUudGV4dENvbnRlbnQgPSBjb250ZW50XG4gICAgfVxuICB9XG4gIHNoZWV0c01hcC5zZXQoaWQsIHN0eWxlKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlU3R5bGUoaWQ6IHN0cmluZyk6IHZvaWQge1xuICBjb25zdCBzdHlsZSA9IHNoZWV0c01hcC5nZXQoaWQpXG4gIGlmIChzdHlsZSkge1xuICAgIGlmIChzdHlsZSBpbnN0YW5jZW9mIENTU1N0eWxlU2hlZXQpIHtcbiAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3I6IHVzaW5nIGV4cGVyaW1lbnRhbCBBUElcbiAgICAgIGRvY3VtZW50LmFkb3B0ZWRTdHlsZVNoZWV0cyA9IGRvY3VtZW50LmFkb3B0ZWRTdHlsZVNoZWV0cy5maWx0ZXIoXG4gICAgICAgIChzOiBDU1NTdHlsZVNoZWV0KSA9PiBzICE9PSBzdHlsZVxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICBkb2N1bWVudC5oZWFkLnJlbW92ZUNoaWxkKHN0eWxlKVxuICAgIH1cbiAgICBzaGVldHNNYXAuZGVsZXRlKGlkKVxuICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGZldGNoVXBkYXRlKHtcbiAgcGF0aCxcbiAgYWNjZXB0ZWRQYXRoLFxuICB0aW1lc3RhbXAsXG4gIGV4cGxpY2l0SW1wb3J0UmVxdWlyZWRcbn06IFVwZGF0ZSkge1xuICBjb25zdCBtb2QgPSBob3RNb2R1bGVzTWFwLmdldChwYXRoKVxuICBpZiAoIW1vZCkge1xuICAgIC8vIEluIGEgY29kZS1zcGxpdHRpbmcgcHJvamVjdCxcbiAgICAvLyBpdCBpcyBjb21tb24gdGhhdCB0aGUgaG90LXVwZGF0aW5nIG1vZHVsZSBpcyBub3QgbG9hZGVkIHlldC5cbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdml0ZWpzL3ZpdGUvaXNzdWVzLzcyMVxuICAgIHJldHVyblxuICB9XG5cbiAgY29uc3QgbW9kdWxlTWFwID0gbmV3IE1hcDxzdHJpbmcsIE1vZHVsZU5hbWVzcGFjZT4oKVxuICBjb25zdCBpc1NlbGZVcGRhdGUgPSBwYXRoID09PSBhY2NlcHRlZFBhdGhcblxuICAvLyBkZXRlcm1pbmUgdGhlIHF1YWxpZmllZCBjYWxsYmFja3MgYmVmb3JlIHdlIHJlLWltcG9ydCB0aGUgbW9kdWxlc1xuICBjb25zdCBxdWFsaWZpZWRDYWxsYmFja3MgPSBtb2QuY2FsbGJhY2tzLmZpbHRlcigoeyBkZXBzIH0pID0+XG4gICAgZGVwcy5pbmNsdWRlcyhhY2NlcHRlZFBhdGgpXG4gIClcblxuICBpZiAoaXNTZWxmVXBkYXRlIHx8IHF1YWxpZmllZENhbGxiYWNrcy5sZW5ndGggPiAwKSB7XG4gICAgY29uc3QgZGVwID0gYWNjZXB0ZWRQYXRoXG4gICAgY29uc3QgZGlzcG9zZXIgPSBkaXNwb3NlTWFwLmdldChkZXApXG4gICAgaWYgKGRpc3Bvc2VyKSBhd2FpdCBkaXNwb3NlcihkYXRhTWFwLmdldChkZXApKVxuICAgIGNvbnN0IFtwYXRoLCBxdWVyeV0gPSBkZXAuc3BsaXQoYD9gKVxuICAgIHRyeSB7XG4gICAgICBjb25zdCBuZXdNb2Q6IE1vZHVsZU5hbWVzcGFjZSA9IGF3YWl0IGltcG9ydChcbiAgICAgICAgLyogQHZpdGUtaWdub3JlICovXG4gICAgICAgIGJhc2UgK1xuICAgICAgICAgIHBhdGguc2xpY2UoMSkgK1xuICAgICAgICAgIGA/JHtleHBsaWNpdEltcG9ydFJlcXVpcmVkID8gJ2ltcG9ydCYnIDogJyd9dD0ke3RpbWVzdGFtcH0ke1xuICAgICAgICAgICAgcXVlcnkgPyBgJiR7cXVlcnl9YCA6ICcnXG4gICAgICAgICAgfWBcbiAgICAgIClcbiAgICAgIG1vZHVsZU1hcC5zZXQoZGVwLCBuZXdNb2QpXG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgd2FybkZhaWxlZEZldGNoKGUsIGRlcClcbiAgICB9XG4gIH1cblxuICByZXR1cm4gKCkgPT4ge1xuICAgIGZvciAoY29uc3QgeyBkZXBzLCBmbiB9IG9mIHF1YWxpZmllZENhbGxiYWNrcykge1xuICAgICAgZm4oZGVwcy5tYXAoKGRlcCkgPT4gbW9kdWxlTWFwLmdldChkZXApKSlcbiAgICB9XG4gICAgY29uc3QgbG9nZ2VkUGF0aCA9IGlzU2VsZlVwZGF0ZSA/IHBhdGggOiBgJHthY2NlcHRlZFBhdGh9IHZpYSAke3BhdGh9YFxuICAgIGNvbnNvbGUuZGVidWcoYFt2aXRlXSBob3QgdXBkYXRlZDogJHtsb2dnZWRQYXRofWApXG4gIH1cbn1cblxuZnVuY3Rpb24gc2VuZE1lc3NhZ2VCdWZmZXIoKSB7XG4gIGlmIChzb2NrZXQucmVhZHlTdGF0ZSA9PT0gMSkge1xuICAgIG1lc3NhZ2VCdWZmZXIuZm9yRWFjaCgobXNnKSA9PiBzb2NrZXQuc2VuZChtc2cpKVxuICAgIG1lc3NhZ2VCdWZmZXIubGVuZ3RoID0gMFxuICB9XG59XG5cbmludGVyZmFjZSBIb3RNb2R1bGUge1xuICBpZDogc3RyaW5nXG4gIGNhbGxiYWNrczogSG90Q2FsbGJhY2tbXVxufVxuXG5pbnRlcmZhY2UgSG90Q2FsbGJhY2sge1xuICAvLyB0aGUgZGVwZW5kZW5jaWVzIG11c3QgYmUgZmV0Y2hhYmxlIHBhdGhzXG4gIGRlcHM6IHN0cmluZ1tdXG4gIGZuOiAobW9kdWxlczogQXJyYXk8TW9kdWxlTmFtZXNwYWNlIHwgdW5kZWZpbmVkPikgPT4gdm9pZFxufVxuXG50eXBlIEN1c3RvbUxpc3RlbmVyc01hcCA9IE1hcDxzdHJpbmcsICgoZGF0YTogYW55KSA9PiB2b2lkKVtdPlxuXG5jb25zdCBob3RNb2R1bGVzTWFwID0gbmV3IE1hcDxzdHJpbmcsIEhvdE1vZHVsZT4oKVxuY29uc3QgZGlzcG9zZU1hcCA9IG5ldyBNYXA8c3RyaW5nLCAoZGF0YTogYW55KSA9PiB2b2lkIHwgUHJvbWlzZTx2b2lkPj4oKVxuY29uc3QgcHJ1bmVNYXAgPSBuZXcgTWFwPHN0cmluZywgKGRhdGE6IGFueSkgPT4gdm9pZCB8IFByb21pc2U8dm9pZD4+KClcbmNvbnN0IGRhdGFNYXAgPSBuZXcgTWFwPHN0cmluZywgYW55PigpXG5jb25zdCBjdXN0b21MaXN0ZW5lcnNNYXA6IEN1c3RvbUxpc3RlbmVyc01hcCA9IG5ldyBNYXAoKVxuY29uc3QgY3R4VG9MaXN0ZW5lcnNNYXAgPSBuZXcgTWFwPHN0cmluZywgQ3VzdG9tTGlzdGVuZXJzTWFwPigpXG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVIb3RDb250ZXh0KG93bmVyUGF0aDogc3RyaW5nKTogVml0ZUhvdENvbnRleHQge1xuICBpZiAoIWRhdGFNYXAuaGFzKG93bmVyUGF0aCkpIHtcbiAgICBkYXRhTWFwLnNldChvd25lclBhdGgsIHt9KVxuICB9XG5cbiAgLy8gd2hlbiBhIGZpbGUgaXMgaG90IHVwZGF0ZWQsIGEgbmV3IGNvbnRleHQgaXMgY3JlYXRlZFxuICAvLyBjbGVhciBpdHMgc3RhbGUgY2FsbGJhY2tzXG4gIGNvbnN0IG1vZCA9IGhvdE1vZHVsZXNNYXAuZ2V0KG93bmVyUGF0aClcbiAgaWYgKG1vZCkge1xuICAgIG1vZC5jYWxsYmFja3MgPSBbXVxuICB9XG5cbiAgLy8gY2xlYXIgc3RhbGUgY3VzdG9tIGV2ZW50IGxpc3RlbmVyc1xuICBjb25zdCBzdGFsZUxpc3RlbmVycyA9IGN0eFRvTGlzdGVuZXJzTWFwLmdldChvd25lclBhdGgpXG4gIGlmIChzdGFsZUxpc3RlbmVycykge1xuICAgIGZvciAoY29uc3QgW2V2ZW50LCBzdGFsZUZuc10gb2Ygc3RhbGVMaXN0ZW5lcnMpIHtcbiAgICAgIGNvbnN0IGxpc3RlbmVycyA9IGN1c3RvbUxpc3RlbmVyc01hcC5nZXQoZXZlbnQpXG4gICAgICBpZiAobGlzdGVuZXJzKSB7XG4gICAgICAgIGN1c3RvbUxpc3RlbmVyc01hcC5zZXQoXG4gICAgICAgICAgZXZlbnQsXG4gICAgICAgICAgbGlzdGVuZXJzLmZpbHRlcigobCkgPT4gIXN0YWxlRm5zLmluY2x1ZGVzKGwpKVxuICAgICAgICApXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY29uc3QgbmV3TGlzdGVuZXJzOiBDdXN0b21MaXN0ZW5lcnNNYXAgPSBuZXcgTWFwKClcbiAgY3R4VG9MaXN0ZW5lcnNNYXAuc2V0KG93bmVyUGF0aCwgbmV3TGlzdGVuZXJzKVxuXG4gIGZ1bmN0aW9uIGFjY2VwdERlcHMoZGVwczogc3RyaW5nW10sIGNhbGxiYWNrOiBIb3RDYWxsYmFja1snZm4nXSA9ICgpID0+IHt9KSB7XG4gICAgY29uc3QgbW9kOiBIb3RNb2R1bGUgPSBob3RNb2R1bGVzTWFwLmdldChvd25lclBhdGgpIHx8IHtcbiAgICAgIGlkOiBvd25lclBhdGgsXG4gICAgICBjYWxsYmFja3M6IFtdXG4gICAgfVxuICAgIG1vZC5jYWxsYmFja3MucHVzaCh7XG4gICAgICBkZXBzLFxuICAgICAgZm46IGNhbGxiYWNrXG4gICAgfSlcbiAgICBob3RNb2R1bGVzTWFwLnNldChvd25lclBhdGgsIG1vZClcbiAgfVxuXG4gIGNvbnN0IGhvdDogVml0ZUhvdENvbnRleHQgPSB7XG4gICAgZ2V0IGRhdGEoKSB7XG4gICAgICByZXR1cm4gZGF0YU1hcC5nZXQob3duZXJQYXRoKVxuICAgIH0sXG5cbiAgICBhY2NlcHQoZGVwcz86IGFueSwgY2FsbGJhY2s/OiBhbnkpIHtcbiAgICAgIGlmICh0eXBlb2YgZGVwcyA9PT0gJ2Z1bmN0aW9uJyB8fCAhZGVwcykge1xuICAgICAgICAvLyBzZWxmLWFjY2VwdDogaG90LmFjY2VwdCgoKSA9PiB7fSlcbiAgICAgICAgYWNjZXB0RGVwcyhbb3duZXJQYXRoXSwgKFttb2RdKSA9PiBkZXBzICYmIGRlcHMobW9kKSlcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGRlcHMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIC8vIGV4cGxpY2l0IGRlcHNcbiAgICAgICAgYWNjZXB0RGVwcyhbZGVwc10sIChbbW9kXSkgPT4gY2FsbGJhY2sgJiYgY2FsbGJhY2sobW9kKSlcbiAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShkZXBzKSkge1xuICAgICAgICBhY2NlcHREZXBzKGRlcHMsIGNhbGxiYWNrKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBpbnZhbGlkIGhvdC5hY2NlcHQoKSB1c2FnZS5gKVxuICAgICAgfVxuICAgIH0sXG5cbiAgICAvLyBleHBvcnQgbmFtZXMgKGZpcnN0IGFyZykgYXJlIGlycmVsZXZhbnQgb24gdGhlIGNsaWVudCBzaWRlLCB0aGV5J3JlXG4gICAgLy8gZXh0cmFjdGVkIGluIHRoZSBzZXJ2ZXIgZm9yIHByb3BhZ2F0aW9uXG4gICAgYWNjZXB0RXhwb3J0cyhfOiBzdHJpbmcgfCByZWFkb25seSBzdHJpbmdbXSwgY2FsbGJhY2s/OiBhbnkpIHtcbiAgICAgIGFjY2VwdERlcHMoW293bmVyUGF0aF0sIGNhbGxiYWNrICYmICgoW21vZF0pID0+IGNhbGxiYWNrKG1vZCkpKVxuICAgIH0sXG5cbiAgICBkaXNwb3NlKGNiKSB7XG4gICAgICBkaXNwb3NlTWFwLnNldChvd25lclBhdGgsIGNiKVxuICAgIH0sXG5cbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIHVudHlwZWRcbiAgICBwcnVuZShjYjogKGRhdGE6IGFueSkgPT4gdm9pZCkge1xuICAgICAgcHJ1bmVNYXAuc2V0KG93bmVyUGF0aCwgY2IpXG4gICAgfSxcblxuICAgIC8vIFRPRE9cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWVtcHR5LWZ1bmN0aW9uXG4gICAgZGVjbGluZSgpIHt9LFxuXG4gICAgLy8gdGVsbCB0aGUgc2VydmVyIHRvIHJlLXBlcmZvcm0gaG1yIHByb3BhZ2F0aW9uIGZyb20gdGhpcyBtb2R1bGUgYXMgcm9vdFxuICAgIGludmFsaWRhdGUoKSB7XG4gICAgICBub3RpZnlMaXN0ZW5lcnMoJ3ZpdGU6aW52YWxpZGF0ZScsIHsgcGF0aDogb3duZXJQYXRoIH0pXG4gICAgICB0aGlzLnNlbmQoJ3ZpdGU6aW52YWxpZGF0ZScsIHsgcGF0aDogb3duZXJQYXRoIH0pXG4gICAgfSxcblxuICAgIC8vIGN1c3RvbSBldmVudHNcbiAgICBvbihldmVudCwgY2IpIHtcbiAgICAgIGNvbnN0IGFkZFRvTWFwID0gKG1hcDogTWFwPHN0cmluZywgYW55W10+KSA9PiB7XG4gICAgICAgIGNvbnN0IGV4aXN0aW5nID0gbWFwLmdldChldmVudCkgfHwgW11cbiAgICAgICAgZXhpc3RpbmcucHVzaChjYilcbiAgICAgICAgbWFwLnNldChldmVudCwgZXhpc3RpbmcpXG4gICAgICB9XG4gICAgICBhZGRUb01hcChjdXN0b21MaXN0ZW5lcnNNYXApXG4gICAgICBhZGRUb01hcChuZXdMaXN0ZW5lcnMpXG4gICAgfSxcblxuICAgIHNlbmQoZXZlbnQsIGRhdGEpIHtcbiAgICAgIG1lc3NhZ2VCdWZmZXIucHVzaChKU09OLnN0cmluZ2lmeSh7IHR5cGU6ICdjdXN0b20nLCBldmVudCwgZGF0YSB9KSlcbiAgICAgIHNlbmRNZXNzYWdlQnVmZmVyKClcbiAgICB9XG4gIH1cblxuICByZXR1cm4gaG90XG59XG5cbi8qKlxuICogdXJscyBoZXJlIGFyZSBkeW5hbWljIGltcG9ydCgpIHVybHMgdGhhdCBjb3VsZG4ndCBiZSBzdGF0aWNhbGx5IGFuYWx5emVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbmplY3RRdWVyeSh1cmw6IHN0cmluZywgcXVlcnlUb0luamVjdDogc3RyaW5nKTogc3RyaW5nIHtcbiAgLy8gc2tpcCB1cmxzIHRoYXQgd29uJ3QgYmUgaGFuZGxlZCBieSB2aXRlXG4gIGlmICghdXJsLnN0YXJ0c1dpdGgoJy4nKSAmJiAhdXJsLnN0YXJ0c1dpdGgoJy8nKSkge1xuICAgIHJldHVybiB1cmxcbiAgfVxuXG4gIC8vIGNhbid0IHVzZSBwYXRobmFtZSBmcm9tIFVSTCBzaW5jZSBpdCBtYXkgYmUgcmVsYXRpdmUgbGlrZSAuLi9cbiAgY29uc3QgcGF0aG5hbWUgPSB1cmwucmVwbGFjZSgvIy4qJC8sICcnKS5yZXBsYWNlKC9cXD8uKiQvLCAnJylcbiAgY29uc3QgeyBzZWFyY2gsIGhhc2ggfSA9IG5ldyBVUkwodXJsLCAnaHR0cDovL3ZpdGVqcy5kZXYnKVxuXG4gIHJldHVybiBgJHtwYXRobmFtZX0/JHtxdWVyeVRvSW5qZWN0fSR7c2VhcmNoID8gYCZgICsgc2VhcmNoLnNsaWNlKDEpIDogJyd9JHtcbiAgICBoYXNoIHx8ICcnXG4gIH1gXG59XG5cbmV4cG9ydCB7IEVycm9yT3ZlcmxheSB9XG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFFQTtBQUNBLE1BQU0sUUFBUSxZQUFZLENBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Q0E0SHpCLENBQUE7QUFFRCxNQUFNLE1BQU0sR0FBRyxnQ0FBZ0MsQ0FBQTtBQUMvQyxNQUFNLFdBQVcsR0FBRywwQ0FBMEMsQ0FBQTtBQUU5RDtBQUNBO0FBQ0EsTUFBTSxFQUFFLFdBQVcsR0FBRyxNQUFBO0NBQXlDLEVBQUUsR0FBRyxVQUFVLENBQUE7QUFDeEUsTUFBTyxZQUFhLFNBQVEsV0FBVyxDQUFBO0FBRzNDLElBQUEsV0FBQSxDQUFZLEdBQXdCLEVBQUUsS0FBSyxHQUFHLElBQUksRUFBQTs7QUFDaEQsUUFBQSxLQUFLLEVBQUUsQ0FBQTtBQUNQLFFBQUEsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxDQUFDLENBQUE7QUFDL0MsUUFBQSxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsR0FBRyxRQUFRLENBQUE7QUFFOUIsUUFBQSxXQUFXLENBQUMsU0FBUyxHQUFHLENBQUMsQ0FBQTtBQUN6QixRQUFBLE1BQU0sUUFBUSxHQUFHLEdBQUcsQ0FBQyxLQUFLLElBQUksV0FBVyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUE7UUFDekQsTUFBTSxPQUFPLEdBQUcsUUFBUTtjQUNwQixHQUFHLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxXQUFXLEVBQUUsRUFBRSxDQUFDO0FBQ3RDLGNBQUUsR0FBRyxDQUFDLE9BQU8sQ0FBQTtRQUNmLElBQUksR0FBRyxDQUFDLE1BQU0sRUFBRTtZQUNkLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLENBQVcsUUFBQSxFQUFBLEdBQUcsQ0FBQyxNQUFNLENBQUksRUFBQSxDQUFBLENBQUMsQ0FBQTtBQUNoRCxTQUFBO1FBQ0QsSUFBSSxDQUFDLElBQUksQ0FBQyxlQUFlLEVBQUUsT0FBTyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUE7UUFFMUMsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQSxDQUFBLEVBQUEsR0FBQSxHQUFHLENBQUMsR0FBRyxNQUFFLElBQUEsSUFBQSxFQUFBLEtBQUEsS0FBQSxDQUFBLEdBQUEsS0FBQSxDQUFBLEdBQUEsRUFBQSxDQUFBLElBQUksS0FBSSxHQUFHLENBQUMsRUFBRSxJQUFJLGNBQWMsRUFBRSxLQUFLLENBQUMsQ0FBRyxDQUFBLENBQUEsQ0FBQyxDQUFBO1FBQ3JFLElBQUksR0FBRyxDQUFDLEdBQUcsRUFBRTtZQUNYLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUcsRUFBQSxJQUFJLENBQUksQ0FBQSxFQUFBLEdBQUcsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFBLENBQUEsRUFBSSxHQUFHLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBRSxDQUFBLEVBQUUsS0FBSyxDQUFDLENBQUE7QUFDdkUsU0FBQTthQUFNLElBQUksR0FBRyxDQUFDLEVBQUUsRUFBRTtBQUNqQixZQUFBLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxDQUFBO0FBQ3pCLFNBQUE7QUFFRCxRQUFBLElBQUksUUFBUSxFQUFFO0FBQ1osWUFBQSxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxHQUFHLENBQUMsS0FBTSxDQUFDLElBQUksRUFBRSxDQUFDLENBQUE7QUFDdkMsU0FBQTtRQUNELElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLEdBQUcsQ0FBQyxLQUFLLEVBQUUsS0FBSyxDQUFDLENBQUE7QUFFckMsUUFBQSxJQUFJLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxTQUFTLENBQUUsQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxDQUFDLEtBQUk7WUFDbEUsQ0FBQyxDQUFDLGVBQWUsRUFBRSxDQUFBO0FBQ3JCLFNBQUMsQ0FBQyxDQUFBO0FBQ0YsUUFBQSxJQUFJLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLE1BQUs7WUFDbEMsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFBO0FBQ2QsU0FBQyxDQUFDLENBQUE7S0FDSDtBQUVELElBQUEsSUFBSSxDQUFDLFFBQWdCLEVBQUUsSUFBWSxFQUFFLFNBQVMsR0FBRyxLQUFLLEVBQUE7UUFDcEQsTUFBTSxFQUFFLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFFLENBQUE7UUFDN0MsSUFBSSxDQUFDLFNBQVMsRUFBRTtBQUNkLFlBQUEsRUFBRSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUE7QUFDdEIsU0FBQTtBQUFNLGFBQUE7WUFDTCxJQUFJLFFBQVEsR0FBRyxDQUFDLENBQUE7QUFDaEIsWUFBQSxJQUFJLEtBQTZCLENBQUE7QUFDakMsWUFBQSxNQUFNLENBQUMsU0FBUyxHQUFHLENBQUMsQ0FBQTtZQUNwQixRQUFRLEtBQUssR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHO2dCQUNsQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsR0FBRyxLQUFLLENBQUE7Z0JBQ2hDLElBQUksS0FBSyxJQUFJLElBQUksRUFBRTtvQkFDakIsTUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUUsS0FBSyxDQUFDLENBQUE7b0JBQ3hDLEVBQUUsQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFBO29CQUM3QyxNQUFNLElBQUksR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLEdBQUcsQ0FBQyxDQUFBO0FBQ3hDLG9CQUFBLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFBO0FBQ3ZCLG9CQUFBLElBQUksQ0FBQyxTQUFTLEdBQUcsV0FBVyxDQUFBO0FBQzVCLG9CQUFBLElBQUksQ0FBQyxPQUFPLEdBQUcsTUFBSzt3QkFDbEIsS0FBSyxDQUFDLHlCQUF5QixHQUFHLGtCQUFrQixDQUFDLElBQUksQ0FBQyxDQUFDLENBQUE7QUFDN0QscUJBQUMsQ0FBQTtBQUNELG9CQUFBLEVBQUUsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUE7b0JBQ3BCLFFBQVEsSUFBSSxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUE7QUFDdEMsaUJBQUE7QUFDRixhQUFBO0FBQ0YsU0FBQTtLQUNGO0lBRUQsS0FBSyxHQUFBOztRQUNILENBQUEsRUFBQSxHQUFBLElBQUksQ0FBQyxVQUFVLE1BQUEsSUFBQSxJQUFBLEVBQUEsS0FBQSxLQUFBLENBQUEsR0FBQSxLQUFBLENBQUEsR0FBQSxFQUFBLENBQUUsV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFBO0tBQ25DO0FBQ0YsQ0FBQTtBQUVNLE1BQU0sU0FBUyxHQUFHLG9CQUFvQixDQUFBO0FBQzdDLE1BQU0sRUFBRSxjQUFjLEVBQUUsR0FBRyxVQUFVLENBQUE7QUFDckMsSUFBSSxjQUFjLElBQUksQ0FBQyxjQUFjLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxFQUFFO0FBQ3BELElBQUEsY0FBYyxDQUFDLE1BQU0sQ0FBQyxTQUFTLEVBQUUsWUFBWSxDQUFDLENBQUE7QUFDL0M7O0FDOUxELE9BQU8sQ0FBQyxLQUFLLENBQUMsc0JBQXNCLENBQUMsQ0FBQTtBQUVyQyxNQUFNLGFBQWEsR0FBRyxJQUFJLEdBQUcsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFBO0FBRTlDO0FBQ0EsTUFBTSxVQUFVLEdBQUcsZUFBZSxDQUFBO0FBQ2xDLE1BQU0sY0FBYyxHQUNsQixnQkFBZ0IsS0FBSyxRQUFRLENBQUMsUUFBUSxLQUFLLFFBQVEsR0FBRyxLQUFLLEdBQUcsSUFBSSxDQUFDLENBQUE7QUFDckUsTUFBTSxPQUFPLEdBQUcsWUFBWSxDQUFBO0FBQzVCLE1BQU0sVUFBVSxHQUFHLENBQUEsRUFBRyxnQkFBZ0IsSUFBSSxhQUFhLENBQUMsUUFBUSxDQUM5RCxDQUFBLEVBQUEsT0FBTyxJQUFJLGFBQWEsQ0FBQyxJQUMzQixDQUFHLEVBQUEsWUFBWSxFQUFFLENBQUE7QUFDakIsTUFBTSxnQkFBZ0IsR0FBRyxxQkFBcUIsQ0FBQTtBQUM5QyxNQUFNLElBQUksR0FBRyxRQUFRLElBQUksR0FBRyxDQUFBO0FBQzVCLE1BQU0sYUFBYSxHQUFhLEVBQUUsQ0FBQTtBQUVsQyxJQUFJLE1BQWlCLENBQUE7QUFDckIsSUFBSTtBQUNGLElBQUEsSUFBSSxRQUFrQyxDQUFBOztJQUV0QyxJQUFJLENBQUMsT0FBTyxFQUFFO1FBQ1osUUFBUSxHQUFHLE1BQUs7OztZQUdkLE1BQU0sR0FBRyxjQUFjLENBQUMsY0FBYyxFQUFFLGdCQUFnQixFQUFFLE1BQUs7Z0JBQzdELE1BQU0sb0JBQW9CLEdBQUcsSUFBSSxHQUFHLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQTtBQUNyRCxnQkFBQSxNQUFNLGlCQUFpQixHQUNyQixvQkFBb0IsQ0FBQyxJQUFJO29CQUN6QixvQkFBb0IsQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLGdCQUFnQixFQUFFLEVBQUUsQ0FBQyxDQUFBO2dCQUM3RCxPQUFPLENBQUMsS0FBSyxDQUNYLDBDQUEwQztvQkFDeEMsdUJBQXVCO29CQUN2QixDQUFlLFlBQUEsRUFBQSxpQkFBaUIsQ0FBaUIsY0FBQSxFQUFBLFVBQVUsQ0FBYSxXQUFBLENBQUE7b0JBQ3hFLENBQWUsWUFBQSxFQUFBLFVBQVUsQ0FBZ0MsNkJBQUEsRUFBQSxnQkFBZ0IsQ0FBYSxXQUFBLENBQUE7QUFDdEYsb0JBQUEsNEdBQTRHLENBQy9HLENBQUE7QUFDSCxhQUFDLENBQUMsQ0FBQTtBQUNGLFlBQUEsTUFBTSxDQUFDLGdCQUFnQixDQUNyQixNQUFNLEVBQ04sTUFBSztBQUNILGdCQUFBLE9BQU8sQ0FBQyxJQUFJLENBQ1YsMEpBQTBKLENBQzNKLENBQUE7QUFDSCxhQUFDLEVBQ0QsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLENBQ2YsQ0FBQTtBQUNILFNBQUMsQ0FBQTtBQUNGLEtBQUE7SUFFRCxNQUFNLEdBQUcsY0FBYyxDQUFDLGNBQWMsRUFBRSxVQUFVLEVBQUUsUUFBUSxDQUFDLENBQUE7QUFDOUQsQ0FBQTtBQUFDLE9BQU8sS0FBSyxFQUFFO0FBQ2QsSUFBQSxPQUFPLENBQUMsS0FBSyxDQUFDLDBDQUEwQyxLQUFLLENBQUEsR0FBQSxDQUFLLENBQUMsQ0FBQTtBQUNwRSxDQUFBO0FBRUQsU0FBUyxjQUFjLENBQ3JCLFFBQWdCLEVBQ2hCLFdBQW1CLEVBQ25CLGtCQUErQixFQUFBO0FBRS9CLElBQUEsTUFBTSxNQUFNLEdBQUcsSUFBSSxTQUFTLENBQUMsQ0FBQSxFQUFHLFFBQVEsQ0FBQSxHQUFBLEVBQU0sV0FBVyxDQUFBLENBQUUsRUFBRSxVQUFVLENBQUMsQ0FBQTtJQUN4RSxJQUFJLFFBQVEsR0FBRyxLQUFLLENBQUE7QUFFcEIsSUFBQSxNQUFNLENBQUMsZ0JBQWdCLENBQ3JCLE1BQU0sRUFDTixNQUFLO1FBQ0gsUUFBUSxHQUFHLElBQUksQ0FBQTtBQUNqQixLQUFDLEVBQ0QsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLENBQ2YsQ0FBQTs7SUFHRCxNQUFNLENBQUMsZ0JBQWdCLENBQUMsU0FBUyxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsS0FBSTtRQUNwRCxhQUFhLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFBO0FBQ2pDLEtBQUMsQ0FBQyxDQUFBOztJQUdGLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsT0FBTyxFQUFFLFFBQVEsRUFBRSxLQUFJO0FBQ3RELFFBQUEsSUFBSSxRQUFRO1lBQUUsT0FBTTtBQUVwQixRQUFBLElBQUksQ0FBQyxRQUFRLElBQUksa0JBQWtCLEVBQUU7QUFDbkMsWUFBQSxrQkFBa0IsRUFBRSxDQUFBO1lBQ3BCLE9BQU07QUFDUCxTQUFBO0FBRUQsUUFBQSxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUEscURBQUEsQ0FBdUQsQ0FBQyxDQUFBO0FBQ3BFLFFBQUEsTUFBTSxxQkFBcUIsQ0FBQyxRQUFRLEVBQUUsV0FBVyxDQUFDLENBQUE7UUFDbEQsUUFBUSxDQUFDLE1BQU0sRUFBRSxDQUFBO0FBQ25CLEtBQUMsQ0FBQyxDQUFBO0FBRUYsSUFBQSxPQUFPLE1BQU0sQ0FBQTtBQUNmLENBQUM7QUFFRCxTQUFTLGVBQWUsQ0FBQyxHQUFVLEVBQUUsSUFBdUIsRUFBQTtJQUMxRCxJQUFJLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLEVBQUU7QUFDL0IsUUFBQSxPQUFPLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFBO0FBQ25CLEtBQUE7QUFDRCxJQUFBLE9BQU8sQ0FBQyxLQUFLLENBQ1gsQ0FBQSx1QkFBQSxFQUEwQixJQUFJLENBQUksRUFBQSxDQUFBO1FBQ2hDLENBQStELDZEQUFBLENBQUE7QUFDL0QsUUFBQSxDQUFBLDJCQUFBLENBQTZCLENBQ2hDLENBQUE7QUFDSCxDQUFDO0FBRUQsU0FBUyxRQUFRLENBQUMsUUFBZ0IsRUFBQTtBQUNoQyxJQUFBLE1BQU0sR0FBRyxHQUFHLElBQUksR0FBRyxDQUFDLFFBQVEsRUFBRSxRQUFRLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQTtBQUNsRCxJQUFBLEdBQUcsQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFBO0FBQ2pDLElBQUEsT0FBTyxHQUFHLENBQUMsUUFBUSxHQUFHLEdBQUcsQ0FBQyxNQUFNLENBQUE7QUFDbEMsQ0FBQztBQUVELElBQUksYUFBYSxHQUFHLElBQUksQ0FBQTtBQUN4QixNQUFNLGdCQUFnQixHQUFHLElBQUksT0FBTyxFQUFtQixDQUFBO0FBRXZELGVBQWUsYUFBYSxDQUFDLE9BQW1CLEVBQUE7SUFDOUMsUUFBUSxPQUFPLENBQUMsSUFBSTtBQUNsQixRQUFBLEtBQUssV0FBVztBQUNkLFlBQUEsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFBLGlCQUFBLENBQW1CLENBQUMsQ0FBQTtBQUNsQyxZQUFBLGlCQUFpQixFQUFFLENBQUE7OztZQUduQixXQUFXLENBQUMsTUFBSztBQUNmLGdCQUFBLElBQUksTUFBTSxDQUFDLFVBQVUsS0FBSyxNQUFNLENBQUMsSUFBSSxFQUFFO0FBQ3JDLG9CQUFBLE1BQU0sQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsQ0FBQTtBQUMvQixpQkFBQTthQUNGLEVBQUUsZUFBZSxDQUFDLENBQUE7WUFDbkIsTUFBSztBQUNQLFFBQUEsS0FBSyxRQUFRO0FBQ1gsWUFBQSxlQUFlLENBQUMsbUJBQW1CLEVBQUUsT0FBTyxDQUFDLENBQUE7Ozs7O0FBSzdDLFlBQUEsSUFBSSxhQUFhLElBQUksZUFBZSxFQUFFLEVBQUU7QUFDdEMsZ0JBQUEsTUFBTSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEVBQUUsQ0FBQTtnQkFDeEIsT0FBTTtBQUNQLGFBQUE7QUFBTSxpQkFBQTtBQUNMLGdCQUFBLGlCQUFpQixFQUFFLENBQUE7Z0JBQ25CLGFBQWEsR0FBRyxLQUFLLENBQUE7QUFDdEIsYUFBQTtBQUNELFlBQUEsTUFBTSxPQUFPLENBQUMsR0FBRyxDQUNmLE9BQU8sQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLE9BQU8sTUFBTSxLQUFtQjtBQUNsRCxnQkFBQSxJQUFJLE1BQU0sQ0FBQyxJQUFJLEtBQUssV0FBVyxFQUFFO0FBQy9CLG9CQUFBLE9BQU8sV0FBVyxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFBO0FBQ3hDLGlCQUFBOzs7QUFJRCxnQkFBQSxNQUFNLEVBQUUsSUFBSSxFQUFFLFNBQVMsRUFBRSxHQUFHLE1BQU0sQ0FBQTtBQUNsQyxnQkFBQSxNQUFNLFNBQVMsR0FBRyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUE7Ozs7QUFJaEMsZ0JBQUEsTUFBTSxFQUFFLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FDbkIsUUFBUSxDQUFDLGdCQUFnQixDQUFrQixNQUFNLENBQUMsQ0FDbkQsQ0FBQyxJQUFJLENBQ0osQ0FBQyxDQUFDLEtBQ0EsQ0FBQyxnQkFBZ0IsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLElBQUksUUFBUSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLENBQ25FLENBQUE7Z0JBRUQsSUFBSSxDQUFDLEVBQUUsRUFBRTtvQkFDUCxPQUFNO0FBQ1AsaUJBQUE7QUFFRCxnQkFBQSxNQUFNLE9BQU8sR0FBRyxDQUFHLEVBQUEsSUFBSSxDQUFHLEVBQUEsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQSxFQUMxQyxTQUFTLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsR0FBRyxHQUNsQyxDQUFLLEVBQUEsRUFBQSxTQUFTLEVBQUUsQ0FBQTs7Ozs7O0FBT2hCLGdCQUFBLE9BQU8sSUFBSSxPQUFPLENBQUMsQ0FBQyxPQUFPLEtBQUk7QUFDN0Isb0JBQUEsTUFBTSxVQUFVLEdBQUcsRUFBRSxDQUFDLFNBQVMsRUFBcUIsQ0FBQTtBQUNwRCxvQkFBQSxVQUFVLENBQUMsSUFBSSxHQUFHLElBQUksR0FBRyxDQUFDLE9BQU8sRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFBO29CQUNoRCxNQUFNLFdBQVcsR0FBRyxNQUFLO3dCQUN2QixFQUFFLENBQUMsTUFBTSxFQUFFLENBQUE7QUFDWCx3QkFBQSxPQUFPLENBQUMsS0FBSyxDQUFDLDJCQUEyQixTQUFTLENBQUEsQ0FBRSxDQUFDLENBQUE7QUFDckQsd0JBQUEsT0FBTyxFQUFFLENBQUE7QUFDWCxxQkFBQyxDQUFBO0FBQ0Qsb0JBQUEsVUFBVSxDQUFDLGdCQUFnQixDQUFDLE1BQU0sRUFBRSxXQUFXLENBQUMsQ0FBQTtBQUNoRCxvQkFBQSxVQUFVLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLFdBQVcsQ0FBQyxDQUFBO0FBQ2pELG9CQUFBLGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQTtBQUN4QixvQkFBQSxFQUFFLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxDQUFBO0FBQ3RCLGlCQUFDLENBQUMsQ0FBQTthQUNILENBQUMsQ0FDSCxDQUFBO0FBQ0QsWUFBQSxlQUFlLENBQUMsa0JBQWtCLEVBQUUsT0FBTyxDQUFDLENBQUE7WUFDNUMsTUFBSztRQUNQLEtBQUssUUFBUSxFQUFFO1lBQ2IsZUFBZSxDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQUUsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFBO1lBQzVDLE1BQUs7QUFDTixTQUFBO0FBQ0QsUUFBQSxLQUFLLGFBQWE7QUFDaEIsWUFBQSxlQUFlLENBQUMsdUJBQXVCLEVBQUUsT0FBTyxDQUFDLENBQUE7QUFDakQsWUFBQSxJQUFJLE9BQU8sQ0FBQyxJQUFJLElBQUksT0FBTyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLEVBQUU7OztnQkFHbEQsTUFBTSxRQUFRLEdBQUcsU0FBUyxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQTtBQUM3QyxnQkFBQSxNQUFNLFdBQVcsR0FBRyxJQUFJLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUE7Z0JBQ2hELElBQ0UsUUFBUSxLQUFLLFdBQVc7b0JBQ3hCLE9BQU8sQ0FBQyxJQUFJLEtBQUssYUFBYTtBQUM5QixxQkFBQyxRQUFRLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxJQUFJLFFBQVEsR0FBRyxZQUFZLEtBQUssV0FBVyxDQUFDLEVBQ25FO29CQUNBLFFBQVEsQ0FBQyxNQUFNLEVBQUUsQ0FBQTtBQUNsQixpQkFBQTtnQkFDRCxPQUFNO0FBQ1AsYUFBQTtBQUFNLGlCQUFBO2dCQUNMLFFBQVEsQ0FBQyxNQUFNLEVBQUUsQ0FBQTtBQUNsQixhQUFBO1lBQ0QsTUFBSztBQUNQLFFBQUEsS0FBSyxPQUFPO0FBQ1YsWUFBQSxlQUFlLENBQUMsa0JBQWtCLEVBQUUsT0FBTyxDQUFDLENBQUE7Ozs7O1lBSzVDLE9BQU8sQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxLQUFJO2dCQUM3QixNQUFNLEVBQUUsR0FBRyxRQUFRLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFBO0FBQzdCLGdCQUFBLElBQUksRUFBRSxFQUFFO29CQUNOLEVBQUUsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUE7QUFDdEIsaUJBQUE7QUFDSCxhQUFDLENBQUMsQ0FBQTtZQUNGLE1BQUs7UUFDUCxLQUFLLE9BQU8sRUFBRTtBQUNaLFlBQUEsZUFBZSxDQUFDLFlBQVksRUFBRSxPQUFPLENBQUMsQ0FBQTtBQUN0QyxZQUFBLE1BQU0sR0FBRyxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUE7QUFDdkIsWUFBQSxJQUFJLGFBQWEsRUFBRTtnQkFDakIsa0JBQWtCLENBQUMsR0FBRyxDQUFDLENBQUE7QUFDeEIsYUFBQTtBQUFNLGlCQUFBO0FBQ0wsZ0JBQUEsT0FBTyxDQUFDLEtBQUssQ0FDWCxDQUFBLDhCQUFBLEVBQWlDLEdBQUcsQ0FBQyxPQUFPLENBQUEsRUFBQSxFQUFLLEdBQUcsQ0FBQyxLQUFLLENBQUEsQ0FBRSxDQUM3RCxDQUFBO0FBQ0YsYUFBQTtZQUNELE1BQUs7QUFDTixTQUFBO0FBQ0QsUUFBQSxTQUFTO1lBQ1AsTUFBTSxLQUFLLEdBQVUsT0FBTyxDQUFBO0FBQzVCLFlBQUEsT0FBTyxLQUFLLENBQUE7QUFDYixTQUFBO0FBQ0YsS0FBQTtBQUNILENBQUM7QUFNRCxTQUFTLGVBQWUsQ0FBQyxLQUFhLEVBQUUsSUFBUyxFQUFBO0lBQy9DLE1BQU0sR0FBRyxHQUFHLGtCQUFrQixDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQTtBQUN6QyxJQUFBLElBQUksR0FBRyxFQUFFO0FBQ1AsUUFBQSxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUMsRUFBRSxLQUFLLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFBO0FBQzlCLEtBQUE7QUFDSCxDQUFDO0FBRUQsTUFBTSxhQUFhLEdBQUcsc0JBQXNCLENBQUE7QUFFNUMsU0FBUyxrQkFBa0IsQ0FBQyxHQUF3QixFQUFBO0FBQ2xELElBQUEsSUFBSSxDQUFDLGFBQWE7UUFBRSxPQUFNO0FBQzFCLElBQUEsaUJBQWlCLEVBQUUsQ0FBQTtJQUNuQixRQUFRLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLFlBQVksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFBO0FBQ2xELENBQUM7QUFFRCxTQUFTLGlCQUFpQixHQUFBO0lBQ3hCLFFBQVE7U0FDTCxnQkFBZ0IsQ0FBQyxTQUFTLENBQUM7U0FDM0IsT0FBTyxDQUFDLENBQUMsQ0FBQyxLQUFNLENBQWtCLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQTtBQUNoRCxDQUFDO0FBRUQsU0FBUyxlQUFlLEdBQUE7SUFDdEIsT0FBTyxRQUFRLENBQUMsZ0JBQWdCLENBQUMsU0FBUyxDQUFDLENBQUMsTUFBTSxDQUFBO0FBQ3BELENBQUM7QUFFRCxJQUFJLE9BQU8sR0FBRyxLQUFLLENBQUE7QUFDbkIsSUFBSSxNQUFNLEdBQXdDLEVBQUUsQ0FBQTtBQUVwRDs7OztBQUlHO0FBQ0gsZUFBZSxXQUFXLENBQUMsQ0FBb0MsRUFBQTtBQUM3RCxJQUFBLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUE7SUFDZCxJQUFJLENBQUMsT0FBTyxFQUFFO1FBQ1osT0FBTyxHQUFHLElBQUksQ0FBQTtBQUNkLFFBQUEsTUFBTSxPQUFPLENBQUMsT0FBTyxFQUFFLENBQUE7UUFDdkIsT0FBTyxHQUFHLEtBQUssQ0FBQTtBQUNmLFFBQUEsTUFBTSxPQUFPLEdBQUcsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFBO1FBQzNCLE1BQU0sR0FBRyxFQUFFLENBQ1Y7UUFBQSxDQUFDLE1BQU0sT0FBTyxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQyxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsRUFBRSxDQUFDLENBQUE7QUFDMUQsS0FBQTtBQUNILENBQUM7QUFFRCxlQUFlLHFCQUFxQixDQUNsQyxjQUFzQixFQUN0QixXQUFtQixFQUNuQixFQUFFLEdBQUcsSUFBSSxFQUFBO0FBRVQsSUFBQSxNQUFNLGdCQUFnQixHQUFHLGNBQWMsS0FBSyxLQUFLLEdBQUcsT0FBTyxHQUFHLE1BQU0sQ0FBQTs7QUFHcEUsSUFBQSxPQUFPLElBQUksRUFBRTtRQUNYLElBQUk7Ozs7QUFJRixZQUFBLE1BQU0sS0FBSyxDQUFDLENBQUEsRUFBRyxnQkFBZ0IsQ0FBTSxHQUFBLEVBQUEsV0FBVyxFQUFFLEVBQUU7QUFDbEQsZ0JBQUEsSUFBSSxFQUFFLFNBQVM7QUFDaEIsYUFBQSxDQUFDLENBQUE7WUFDRixNQUFLO0FBQ04sU0FBQTtBQUFDLFFBQUEsT0FBTyxDQUFDLEVBQUU7O0FBRVYsWUFBQSxNQUFNLElBQUksT0FBTyxDQUFDLENBQUMsT0FBTyxLQUFLLFVBQVUsQ0FBQyxPQUFPLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQTtBQUN4RCxTQUFBO0FBQ0YsS0FBQTtBQUNILENBQUM7QUFhRCxNQUFNLFNBQVMsR0FBRyxJQUFJLEdBQUcsRUFHdEIsQ0FBQTtBQUVhLFNBQUEsV0FBVyxDQUFDLEVBQVUsRUFBRSxPQUFlLEVBQUE7SUFDckQsSUFBSSxLQUFLLEdBQUcsU0FBUyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQTtJQWlCdEI7UUFDTCxJQUFJLEtBQUssSUFBSSxFQUFFLEtBQUssWUFBWSxnQkFBZ0IsQ0FBQyxFQUFFO1lBQ2pELFdBQVcsQ0FBQyxFQUFFLENBQUMsQ0FBQTtZQUNmLEtBQUssR0FBRyxTQUFTLENBQUE7QUFDbEIsU0FBQTtRQUVELElBQUksQ0FBQyxLQUFLLEVBQUU7QUFDVixZQUFBLEtBQUssR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxDQUFBO0FBQ3ZDLFlBQUEsS0FBSyxDQUFDLFlBQVksQ0FBQyxNQUFNLEVBQUUsVUFBVSxDQUFDLENBQUE7QUFDdEMsWUFBQSxLQUFLLENBQUMsWUFBWSxDQUFDLGtCQUFrQixFQUFFLEVBQUUsQ0FBQyxDQUFBO0FBQzFDLFlBQUEsS0FBSyxDQUFDLFdBQVcsR0FBRyxPQUFPLENBQUE7QUFDM0IsWUFBQSxRQUFRLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQTtBQUNqQyxTQUFBO0FBQU0sYUFBQTtBQUNMLFlBQUEsS0FBSyxDQUFDLFdBQVcsR0FBRyxPQUFPLENBQUE7QUFDNUIsU0FBQTtBQUNGLEtBQUE7QUFDRCxJQUFBLFNBQVMsQ0FBQyxHQUFHLENBQUMsRUFBRSxFQUFFLEtBQUssQ0FBQyxDQUFBO0FBQzFCLENBQUM7QUFFSyxTQUFVLFdBQVcsQ0FBQyxFQUFVLEVBQUE7SUFDcEMsTUFBTSxLQUFLLEdBQUcsU0FBUyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQTtBQUMvQixJQUFBLElBQUksS0FBSyxFQUFFO1FBQ1QsSUFBSSxLQUFLLFlBQVksYUFBYSxFQUFFOztBQUVsQyxZQUFBLFFBQVEsQ0FBQyxrQkFBa0IsR0FBRyxRQUFRLENBQUMsa0JBQWtCLENBQUMsTUFBTSxDQUM5RCxDQUFDLENBQWdCLEtBQUssQ0FBQyxLQUFLLEtBQUssQ0FDbEMsQ0FBQTtBQUNGLFNBQUE7QUFBTSxhQUFBO0FBQ0wsWUFBQSxRQUFRLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQTtBQUNqQyxTQUFBO0FBQ0QsUUFBQSxTQUFTLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFBO0FBQ3JCLEtBQUE7QUFDSCxDQUFDO0FBRUQsZUFBZSxXQUFXLENBQUMsRUFDekIsSUFBSSxFQUNKLFlBQVksRUFDWixTQUFTLEVBQ1Qsc0JBQXNCLEVBQ2YsRUFBQTtJQUNQLE1BQU0sR0FBRyxHQUFHLGFBQWEsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUE7SUFDbkMsSUFBSSxDQUFDLEdBQUcsRUFBRTs7OztRQUlSLE9BQU07QUFDUCxLQUFBO0FBRUQsSUFBQSxNQUFNLFNBQVMsR0FBRyxJQUFJLEdBQUcsRUFBMkIsQ0FBQTtBQUNwRCxJQUFBLE1BQU0sWUFBWSxHQUFHLElBQUksS0FBSyxZQUFZLENBQUE7O0lBRzFDLE1BQU0sa0JBQWtCLEdBQUcsR0FBRyxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLElBQUksRUFBRSxLQUN2RCxJQUFJLENBQUMsUUFBUSxDQUFDLFlBQVksQ0FBQyxDQUM1QixDQUFBO0FBRUQsSUFBQSxJQUFJLFlBQVksSUFBSSxrQkFBa0IsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO1FBQ2pELE1BQU0sR0FBRyxHQUFHLFlBQVksQ0FBQTtRQUN4QixNQUFNLFFBQVEsR0FBRyxVQUFVLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFBO0FBQ3BDLFFBQUEsSUFBSSxRQUFRO1lBQUUsTUFBTSxRQUFRLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFBO0FBQzlDLFFBQUEsTUFBTSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsR0FBRyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUcsQ0FBQSxDQUFBLENBQUMsQ0FBQTtRQUNwQyxJQUFJO1lBQ0YsTUFBTSxNQUFNLEdBQW9CLE1BQU07O1lBRXBDLElBQUk7QUFDRixnQkFBQSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztnQkFDYixDQUFJLENBQUEsRUFBQSxzQkFBc0IsR0FBRyxTQUFTLEdBQUcsRUFBRSxDQUFBLEVBQUEsRUFBSyxTQUFTLENBQUEsRUFDdkQsS0FBSyxHQUFHLENBQUEsQ0FBQSxFQUFJLEtBQUssQ0FBQSxDQUFFLEdBQUcsRUFDeEIsQ0FBRSxDQUFBLENBQ0wsQ0FBQTtBQUNELFlBQUEsU0FBUyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsTUFBTSxDQUFDLENBQUE7QUFDM0IsU0FBQTtBQUFDLFFBQUEsT0FBTyxDQUFDLEVBQUU7QUFDVixZQUFBLGVBQWUsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUE7QUFDeEIsU0FBQTtBQUNGLEtBQUE7QUFFRCxJQUFBLE9BQU8sTUFBSztRQUNWLEtBQUssTUFBTSxFQUFFLElBQUksRUFBRSxFQUFFLEVBQUUsSUFBSSxrQkFBa0IsRUFBRTtBQUM3QyxZQUFBLEVBQUUsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLFNBQVMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFBO0FBQzFDLFNBQUE7QUFDRCxRQUFBLE1BQU0sVUFBVSxHQUFHLFlBQVksR0FBRyxJQUFJLEdBQUcsQ0FBRyxFQUFBLFlBQVksQ0FBUSxLQUFBLEVBQUEsSUFBSSxFQUFFLENBQUE7QUFDdEUsUUFBQSxPQUFPLENBQUMsS0FBSyxDQUFDLHVCQUF1QixVQUFVLENBQUEsQ0FBRSxDQUFDLENBQUE7QUFDcEQsS0FBQyxDQUFBO0FBQ0gsQ0FBQztBQUVELFNBQVMsaUJBQWlCLEdBQUE7QUFDeEIsSUFBQSxJQUFJLE1BQU0sQ0FBQyxVQUFVLEtBQUssQ0FBQyxFQUFFO0FBQzNCLFFBQUEsYUFBYSxDQUFDLE9BQU8sQ0FBQyxDQUFDLEdBQUcsS0FBSyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUE7QUFDaEQsUUFBQSxhQUFhLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQTtBQUN6QixLQUFBO0FBQ0gsQ0FBQztBQWVELE1BQU0sYUFBYSxHQUFHLElBQUksR0FBRyxFQUFxQixDQUFBO0FBQ2xELE1BQU0sVUFBVSxHQUFHLElBQUksR0FBRyxFQUErQyxDQUFBO0FBQ3pFLE1BQU0sUUFBUSxHQUFHLElBQUksR0FBRyxFQUErQyxDQUFBO0FBQ3ZFLE1BQU0sT0FBTyxHQUFHLElBQUksR0FBRyxFQUFlLENBQUE7QUFDdEMsTUFBTSxrQkFBa0IsR0FBdUIsSUFBSSxHQUFHLEVBQUUsQ0FBQTtBQUN4RCxNQUFNLGlCQUFpQixHQUFHLElBQUksR0FBRyxFQUE4QixDQUFBO0FBRXpELFNBQVUsZ0JBQWdCLENBQUMsU0FBaUIsRUFBQTtBQUNoRCxJQUFBLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxFQUFFO0FBQzNCLFFBQUEsT0FBTyxDQUFDLEdBQUcsQ0FBQyxTQUFTLEVBQUUsRUFBRSxDQUFDLENBQUE7QUFDM0IsS0FBQTs7O0lBSUQsTUFBTSxHQUFHLEdBQUcsYUFBYSxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsQ0FBQTtBQUN4QyxJQUFBLElBQUksR0FBRyxFQUFFO0FBQ1AsUUFBQSxHQUFHLENBQUMsU0FBUyxHQUFHLEVBQUUsQ0FBQTtBQUNuQixLQUFBOztJQUdELE1BQU0sY0FBYyxHQUFHLGlCQUFpQixDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsQ0FBQTtBQUN2RCxJQUFBLElBQUksY0FBYyxFQUFFO1FBQ2xCLEtBQUssTUFBTSxDQUFDLEtBQUssRUFBRSxRQUFRLENBQUMsSUFBSSxjQUFjLEVBQUU7WUFDOUMsTUFBTSxTQUFTLEdBQUcsa0JBQWtCLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFBO0FBQy9DLFlBQUEsSUFBSSxTQUFTLEVBQUU7Z0JBQ2Isa0JBQWtCLENBQUMsR0FBRyxDQUNwQixLQUFLLEVBQ0wsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FDL0MsQ0FBQTtBQUNGLGFBQUE7QUFDRixTQUFBO0FBQ0YsS0FBQTtBQUVELElBQUEsTUFBTSxZQUFZLEdBQXVCLElBQUksR0FBRyxFQUFFLENBQUE7QUFDbEQsSUFBQSxpQkFBaUIsQ0FBQyxHQUFHLENBQUMsU0FBUyxFQUFFLFlBQVksQ0FBQyxDQUFBO0lBRTlDLFNBQVMsVUFBVSxDQUFDLElBQWMsRUFBRSxXQUE4QixTQUFRLEVBQUE7UUFDeEUsTUFBTSxHQUFHLEdBQWMsYUFBYSxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsSUFBSTtBQUNyRCxZQUFBLEVBQUUsRUFBRSxTQUFTO0FBQ2IsWUFBQSxTQUFTLEVBQUUsRUFBRTtTQUNkLENBQUE7QUFDRCxRQUFBLEdBQUcsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDO1lBQ2pCLElBQUk7QUFDSixZQUFBLEVBQUUsRUFBRSxRQUFRO0FBQ2IsU0FBQSxDQUFDLENBQUE7QUFDRixRQUFBLGFBQWEsQ0FBQyxHQUFHLENBQUMsU0FBUyxFQUFFLEdBQUcsQ0FBQyxDQUFBO0tBQ2xDO0FBRUQsSUFBQSxNQUFNLEdBQUcsR0FBbUI7QUFDMUIsUUFBQSxJQUFJLElBQUksR0FBQTtBQUNOLFlBQUEsT0FBTyxPQUFPLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFBO1NBQzlCO1FBRUQsTUFBTSxDQUFDLElBQVUsRUFBRSxRQUFjLEVBQUE7QUFDL0IsWUFBQSxJQUFJLE9BQU8sSUFBSSxLQUFLLFVBQVUsSUFBSSxDQUFDLElBQUksRUFBRTs7QUFFdkMsZ0JBQUEsVUFBVSxDQUFDLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxLQUFLLElBQUksSUFBSSxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQTtBQUN0RCxhQUFBO0FBQU0saUJBQUEsSUFBSSxPQUFPLElBQUksS0FBSyxRQUFRLEVBQUU7O0FBRW5DLGdCQUFBLFVBQVUsQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsS0FBSyxRQUFRLElBQUksUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUE7QUFDekQsYUFBQTtBQUFNLGlCQUFBLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRTtBQUM5QixnQkFBQSxVQUFVLENBQUMsSUFBSSxFQUFFLFFBQVEsQ0FBQyxDQUFBO0FBQzNCLGFBQUE7QUFBTSxpQkFBQTtBQUNMLGdCQUFBLE1BQU0sSUFBSSxLQUFLLENBQUMsQ0FBQSwyQkFBQSxDQUE2QixDQUFDLENBQUE7QUFDL0MsYUFBQTtTQUNGOzs7UUFJRCxhQUFhLENBQUMsQ0FBNkIsRUFBRSxRQUFjLEVBQUE7WUFDekQsVUFBVSxDQUFDLENBQUMsU0FBUyxDQUFDLEVBQUUsUUFBUSxLQUFLLENBQUMsQ0FBQyxHQUFHLENBQUMsS0FBSyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFBO1NBQ2hFO0FBRUQsUUFBQSxPQUFPLENBQUMsRUFBRSxFQUFBO0FBQ1IsWUFBQSxVQUFVLENBQUMsR0FBRyxDQUFDLFNBQVMsRUFBRSxFQUFFLENBQUMsQ0FBQTtTQUM5Qjs7QUFHRCxRQUFBLEtBQUssQ0FBQyxFQUF1QixFQUFBO0FBQzNCLFlBQUEsUUFBUSxDQUFDLEdBQUcsQ0FBQyxTQUFTLEVBQUUsRUFBRSxDQUFDLENBQUE7U0FDNUI7OztBQUlELFFBQUEsT0FBTyxNQUFLOztRQUdaLFVBQVUsR0FBQTtZQUNSLGVBQWUsQ0FBQyxpQkFBaUIsRUFBRSxFQUFFLElBQUksRUFBRSxTQUFTLEVBQUUsQ0FBQyxDQUFBO1lBQ3ZELElBQUksQ0FBQyxJQUFJLENBQUMsaUJBQWlCLEVBQUUsRUFBRSxJQUFJLEVBQUUsU0FBUyxFQUFFLENBQUMsQ0FBQTtTQUNsRDs7UUFHRCxFQUFFLENBQUMsS0FBSyxFQUFFLEVBQUUsRUFBQTtBQUNWLFlBQUEsTUFBTSxRQUFRLEdBQUcsQ0FBQyxHQUF1QixLQUFJO2dCQUMzQyxNQUFNLFFBQVEsR0FBRyxHQUFHLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsQ0FBQTtBQUNyQyxnQkFBQSxRQUFRLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFBO0FBQ2pCLGdCQUFBLEdBQUcsQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFFLFFBQVEsQ0FBQyxDQUFBO0FBQzFCLGFBQUMsQ0FBQTtZQUNELFFBQVEsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFBO1lBQzVCLFFBQVEsQ0FBQyxZQUFZLENBQUMsQ0FBQTtTQUN2QjtRQUVELElBQUksQ0FBQyxLQUFLLEVBQUUsSUFBSSxFQUFBO0FBQ2QsWUFBQSxhQUFhLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsRUFBRSxJQUFJLEVBQUUsUUFBUSxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUE7QUFDbkUsWUFBQSxpQkFBaUIsRUFBRSxDQUFBO1NBQ3BCO0tBQ0YsQ0FBQTtBQUVELElBQUEsT0FBTyxHQUFHLENBQUE7QUFDWixDQUFDO0FBRUQ7O0FBRUc7QUFDYSxTQUFBLFdBQVcsQ0FBQyxHQUFXLEVBQUUsYUFBcUIsRUFBQTs7QUFFNUQsSUFBQSxJQUFJLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLEVBQUU7QUFDaEQsUUFBQSxPQUFPLEdBQUcsQ0FBQTtBQUNYLEtBQUE7O0FBR0QsSUFBQSxNQUFNLFFBQVEsR0FBRyxHQUFHLENBQUMsT0FBTyxDQUFDLE1BQU0sRUFBRSxFQUFFLENBQUMsQ0FBQyxPQUFPLENBQUMsT0FBTyxFQUFFLEVBQUUsQ0FBQyxDQUFBO0FBQzdELElBQUEsTUFBTSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsR0FBRyxJQUFJLEdBQUcsQ0FBQyxHQUFHLEVBQUUsbUJBQW1CLENBQUMsQ0FBQTtJQUUxRCxPQUFPLENBQUEsRUFBRyxRQUFRLENBQUEsQ0FBQSxFQUFJLGFBQWEsQ0FBQSxFQUFHLE1BQU0sR0FBRyxDQUFHLENBQUEsQ0FBQSxHQUFHLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFBLEVBQ3ZFLElBQUksSUFBSSxFQUNWLENBQUEsQ0FBRSxDQUFBO0FBQ0o7Ozs7In0=<span class="html-end-of-file"></span></td></tr></tbody></table></body></html>